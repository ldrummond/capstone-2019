{"version":3,"sources":["assets/car-cover.png","assets/bat-cover.png","assets/fish-cover.png","assets/crowd-cover.png","assets/mold-cover.png","assets/instructionPng.png","assets/backgroundTest.jpg","assets/car-icon.svg","assets/bat-icon.svg","assets/fish-icon.svg","assets/crowd-icon.svg","assets/mold-icon.svg","data/data.js","components/helperFunctions.js","redux/store.js","pages/navResolver.js","pages/loaderPage.js","assets/arrow.svg","components/canvasShapes.js","components/pentagonController.js","components/canvasBase.js","components/rafController.js","components/pentagonWheel.js","components/svgOutline.js","pages/selectorPage.js","assets/pentagon.svg","simulations/boidPoolController.js","simulations/cursorController.js","simulations/simulationController.js","simulations/simulationSettings.js","simulations/simulationWrapper.js","pages/simulationPage.js","components/fadeWrapper.js","pages/transitionPage.js","pages/noMatchPage.js","pages/pageResolver.js","pages/aboutResolver.js","pages/backgroundResolver.js","pages/reduxWrapper.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","car_icon_ref","react_default","a","createElement","className","width","height","bat_icon_extends","bat_icon_ref","points","fish_icon_extends","fish_icon_ref","crowd_icon_extends","crowd_icon_ref","mold_icon_extends","mold_icon_ref","data","systems","path","systemPart","systemWhole","coverImage","src","carCover","question","description","rules","instructions","color","icon","props","viewBox","batCover","fishCover","crowdCover","moldCover","CanvasTransition","_ref","_this","_ref$startValue","startValue","_ref$endValue","endValue","_ref$durationMs","durationMs","_ref$fps","fps","onStep","_ref$onComplete","onComplete","_","isDone","stepCount","Math","floor","valueIncrement","sinValueIncrement","PI","currentValue","currentSinValue","step","pow","sin","next","arr","RangeError","prev","mergeObjects","undefined","b","aCopy","bCopy","ranRGB","concat","random","toRad","angle","map","system","index","paths","stateFromIndex","prevSystem","curSystem","nextSystem","prevSystemState","state","curi","previ","objectSpread","nextSystemState","nexti","stateFromPath","systemsReducer","action","type","aboutVisible","wheelIndex","connect","dispatch","hideAbout","history","replace","search","window","scrollTo","showAbout","_props$aboutVisible","_props$match","match","params","thinArrow","x1","y1","x2","y2","pageType","BackLink","Link","to","classes","onAboutClick","onClick","LoaderPage","Component","arrow_extends","arrow_ref","arrow_SvgComponent","x","y","Point","PentagonController","options","classCallCheck","center","size","allOpts","colors","sides","rotation","possibleConstructorReturn","getPrototypeOf","Polygon","opts","updateTransitions","transitions","filter","transition","hasChanged","_opts$center","_opts$sides","_opts$size","_opts$rotation","_opts$colors","push","hitBufferColors","generateHitBufferColors","hitIndex","triangles","getTrianglesPoints","cursor","deg","duration","_this2","rotateTransition","res","toConsumableArray","Array","curPoint","curAngle","nextPoint","nextAngle","triangle","cos","scale","_this3","ctx","mousePos","time","beginPath","moveTo","fillStyle","lineTo","fill","strokeStyle","lineWidth","stroke","closePath","_this4","Canvas","sizeCanvasRender","dpr","devicePixelRatio","canvas","$canvas","getContext","canvasRef","React","createRef","hoistContext","hoistCanvas","current","$","ref","RafController","loop","rafId","requestAnimationFrame","now","Date","elapsed","then","ticker","increment","fpsInterval","startLoop","startTime","cancelAnimationFrame","stopLoop","PentagonWheel","_Component","mounted","pentagonRef","pentagonOptions","canvasOptions","_ctx","console","log","inherits","createClass","value","limit","pentagon","pentagonControllerOptions","pentagonController","rafController","update","shouldDraw","clearRect","draw","setState","nextProps","rotateToEase","canvasBase_Canvas","SvgOutline","SvgComponent","component","_props$color","_props$onClick","_props$style","style","SelectorPage","_this$props","onPrevClick","onNextClick","pentagonWheel_PentagonWheel","Arrow","transform","react_transition_group","timeout","enter","exit","classNames","id","pentagon_extends","pentagon_ref","_ref2","_ref3","_ref4","_ref5","pentagon_SvgComponent","BoidPoolController","_options$boidCount","boidCount","_options$width","_options$height","_options$x","_options$y","Boid","vec2","boidPool","chaser","avoidDistance","initializeBoids","boid","edgeBehavior","setBounds","position","velocity","pointA","pointB","hypot","flock","distance","flee","seek","wander","updateBoid","maxSpeed","minDistance","mass","maxForce","maxDistance","CursorController","shape","clearFrames","_options$_x","_x","_options$_y","_y","initialColor","playing","arrive","slowdown","SimulationController","updateBounds","maxX","minX","maxY","minY","simulationType","_options$padding","padding","boidSettings","cursorBoidSettings","createBounds","isVisible","createBoidPoolController","clearBoidFrames","createCursorBoid","clearCursorFrames","cursorVisible","bounds","activeBounds","boidPoolController","setStateSchool","cursorController","cursorBoid","updateChaser","updateFn","getUpdateFn","resetBounds","drawBoid","pause","play","defaultSettings","rafSettings","simulationSettings","drawActiveBounds","count","minSpeed","trafficSettings","colonySettings","schoolSettings","crowdsSettings","slimeSettings","SimulationWrapper","onMouseMove","e","canvasRect","clientX","left","clientY","top","onMouseClick","simulationController","onMouseEnter","onMouseLeave","simulationRef","cursorIconRef","_canvas","getBoundingClientRect","currentSettings","styles","settings","simulation","$simulation","simRect","createRaf","createSimulation","SimulationPage","showOverlay","setTimeout","_this$props$curSystem","_this$props$nextSyste","_curSystem$index","_curSystem$question","_curSystem$descriptio","_curSystem$rules","_curSystem$path","_curSystem$instructio","_curSystem$color","_nextSystem$path","nextPath","background","mouseX","mouseY","instructionPng","simulationWrapper_SimulationWrapper","onPath","TransitionPage","NoMatchPage","PageResolver","location","pathname","Switch","Route","Redirect","from","defaultStyle","display","opacity","transitionStyles","entered","zIndex","exited","pointerEvents","AboutResolver","listen","hideSelf","in","Boolean","_props$curSystem","split","render","_curSystem$coverImage","Icon","react","alt","ReduxWrapper","simulationPath","matches","decodeURIComponent","slice","reduce","acc","query","q","getQueryParamsFromLocation","store","_aboutVisible","createStore","createStoreFromPath","about","es","NavResolver","aboutResolver","pageResolver","backgroundResolver","withRouter","App","HashRouter","reduxWrapper","hostname","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8dd21cc1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/car-cover.30e228da.png\";","module.exports = __webpack_public_path__ + \"static/media/bat-cover.e832427f.png\";","module.exports = __webpack_public_path__ + \"static/media/fish-cover.d0bbcd05.png\";","module.exports = __webpack_public_path__ + \"static/media/crowd-cover.764e0200.png\";","module.exports = __webpack_public_path__ + \"static/media/mold-cover.9a67b36c.png\";","module.exports = __webpack_public_path__ + \"static/media/instructionPng.5d346955.png\";","module.exports = __webpack_public_path__ + \"static/media/backgroundTest.8e71964e.jpg\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"rect\", {\n  className: \"shape\",\n  width: 353.52,\n  height: 177.46\n});\n\nvar SvgComponent = function SvgComponent(props) {\n  return React.createElement(\"svg\", _extends({\n    className: \"car-icon\",\n    viewBox: \"0 0 353.52 177.46\"\n  }, props), _ref);\n};\n\nexport default __webpack_public_path__ + \"static/media/car-icon.8b3b565e.svg\";\nexport { SvgComponent as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"polygon\", {\n  className: \"shape\",\n  points: \"0 0 0 121.2 239.44 191.5 0 261.8 0 383 353.52 261.8 353.52 191.5 353.52 121.2 0 0\"\n});\n\nvar SvgComponent = function SvgComponent(props) {\n  return React.createElement(\"svg\", _extends({\n    className: \"bat-icon\",\n    viewBox: \"0 0 353.52 383\"\n  }, props), _ref);\n};\n\nexport default __webpack_public_path__ + \"static/media/bat-icon.a1d0b1c3.svg\";\nexport { SvgComponent as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"polygon\", {\n  className: \"shape\",\n  points: \"0 0 0 121.2 239.44 191.5 0 261.8 0 383 353.52 261.8 353.52 191.5 353.52 121.2 0 0\"\n});\n\nvar SvgComponent = function SvgComponent(props) {\n  return React.createElement(\"svg\", _extends({\n    className: \"bat-icon\",\n    viewBox: \"0 0 353.52 383\"\n  }, props), _ref);\n};\n\nexport default __webpack_public_path__ + \"static/media/fish-icon.a1d0b1c3.svg\";\nexport { SvgComponent as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"polygon\", {\n  className: \"shape\",\n  points: \"0 0 0 121.2 239.44 191.5 0 261.8 0 383 353.52 261.8 353.52 191.5 353.52 121.2 0 0\"\n});\n\nvar SvgComponent = function SvgComponent(props) {\n  return React.createElement(\"svg\", _extends({\n    className: \"bat-icon\",\n    viewBox: \"0 0 353.52 383\"\n  }, props), _ref);\n};\n\nexport default __webpack_public_path__ + \"static/media/crowd-icon.a1d0b1c3.svg\";\nexport { SvgComponent as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"polygon\", {\n  className: \"shape\",\n  points: \"0 0 0 121.2 239.44 191.5 0 261.8 0 383 353.52 261.8 353.52 191.5 353.52 121.2 0 0\"\n});\n\nvar SvgComponent = function SvgComponent(props) {\n  return React.createElement(\"svg\", _extends({\n    className: \"bat-icon\",\n    viewBox: \"0 0 353.52 383\"\n  }, props), _ref);\n};\n\nexport default __webpack_public_path__ + \"static/media/mold-icon.a1d0b1c3.svg\";\nexport { SvgComponent as ReactComponent };","import carCover from '../assets/car-cover.png';\nimport batCover from '../assets/bat-cover.png';\nimport fishCover from '../assets/fish-cover.png';\nimport crowdCover from '../assets/crowd-cover.png';\nimport moldCover from '../assets/mold-cover.png';\n\nimport { ReactComponent as carIcon } from '../assets/car-icon.svg';\nimport { ReactComponent as batIcon } from '../assets/bat-icon.svg';\nimport { ReactComponent as fishIcon }  from '../assets/fish-icon.svg';\nimport { ReactComponent as crowdIcon }  from '../assets/crowd-icon.svg';\nimport { ReactComponent as moldIcon }  from '../assets/mold-icon.svg';\n\nconst \n  trafficColor = '#A38E76',\n  batColor = '#F7A558',\n  fishColor = '#579CC6',\n  crowdColor = '#EFB2C5',\n  moldColor = '#79857E';\n\nexport default {\n  systems: [\n    {\n      path: \"traffic\", \n      systemPart: \"Cars\", \n      systemWhole: \"Traffic\", \n      coverImage: {\n        src: carCover, \n      },\n      question: \"What causes traffic?\", \n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum tempus sem eget tellus feugiat, quis efficitur neque tempor. Pellentesque ut dui a nisi porta pharetra quis sit amet mi. Quisque ac ante nulla. Quisque ut est cursus, sodales nulla eget, scelerisque nisl. Maecenas nec mollis velit. Donec viverra leo eget auctor ultricies. Nullam faucibus placerat orci, vel rhoncus velit auctor in. Cras at nibh quis massa feugiat lobortis nec eu quam.\", \n      rules: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum tempus sem eget tellus feugiat, quis efficitur neque tempor.\",\n      instructions: \"Navigate the lanes to get work.\",\n      color: trafficColor,\n      icon: carIcon, \n    },\n    {\n      path: \"colony\", \n      systemPart: \"Bats\", \n      systemWhole: \"Colony\", \n      coverImage: {\n        src: batCover, \n      },\n      question: \"How do bats coordinate their flight?\", \n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum tempus sem eget tellus feugiat, quis efficitur neque tempor. Pellentesque ut dui a nisi porta pharetra quis sit amet mi. Quisque ac ante nulla. Quisque ut est cursus, sodales nulla eget, scelerisque nisl. Maecenas nec mollis velit. Donec viverra leo eget auctor ultricies. Nullam faucibus placerat orci, vel rhoncus velit auctor in. Cras at nibh quis massa feugiat lobortis nec eu quam.\", \n      rules: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum tempus sem eget tellus feugiat, quis efficitur neque tempor.\",\n      instructions: \"Chase the fish to see how they follow their neighbors to avoid predators.\",\n      color: batColor,\n      icon: batIcon, \n    },\n    {\n      path: \"school\", \n      systemPart: \"Fish\", \n      systemWhole: \"School\", \n      coverImage: {\n        src: fishCover, \n      },\n      question: \"How do fish avoid predators?\", \n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum tempus sem eget tellus feugiat, quis efficitur neque tempor. Pellentesque ut dui a nisi porta pharetra quis sit amet mi. Quisque ac ante nulla. Quisque ut est cursus, sodales nulla eget, scelerisque nisl. Maecenas nec mollis velit. Donec viverra leo eget auctor ultricies. Nullam faucibus placerat orci, vel rhoncus velit auctor in. Cras at nibh quis massa feugiat lobortis nec eu quam.\", \n      rules: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum tempus sem eget tellus feugiat, quis efficitur neque tempor.\",\n      instructions: \"Chase the fish to see how they follow their neighbors, and avoid predators.\",\n      color: fishColor,\n      icon: fishIcon, \n    },\n    {\n      path: \"crowd\", \n      systemPart: \"Person\", \n      systemWhole: \"Crowd\", \n      coverImage: {\n        src: crowdCover, \n      },\n      question: \"How do crowds navigate cities?\", \n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum tempus sem eget tellus feugiat, quis efficitur neque tempor. Pellentesque ut dui a nisi porta pharetra quis sit amet mi. Quisque ac ante nulla. Quisque ut est cursus, sodales nulla eget, scelerisque nisl. Maecenas nec mollis velit. Donec viverra leo eget auctor ultricies. Nullam faucibus placerat orci, vel rhoncus velit auctor in. Cras at nibh quis massa feugiat lobortis nec eu quam.      \",\n      rules: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum tempus sem eget tellus feugiat, quis efficitur neque tempor.\",\n      instructions: \"Chase the fish to see how they follow their neighbors to avoid predators.\", \n      color: crowdColor,\n      icon: crowdIcon, \n    },\n    {\n      path: \"slime\", \n      systemPart: \"Cell\", \n      systemWhole: \"Mold\", \n      coverImage: {\n        src: moldCover, \n      },\n      question: \"How can mold solve a maze?\", \n      description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum tempus sem eget tellus feugiat, quis efficitur neque tempor. Pellentesque ut dui a nisi porta pharetra quis sit amet mi. Quisque ac ante nulla. Quisque ut est cursus, sodales nulla eget, scelerisque nisl. Maecenas nec mollis velit. Donec viverra leo eget auctor ultricies. Nullam faucibus placerat orci, vel rhoncus velit auctor in. Cras at nibh quis massa feugiat lobortis nec eu quam.\", \n      rules: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum tempus sem eget tellus feugiat, quis efficitur neque tempor.\",\n      instructions: \"Chase the fish to see how they follow their neighbors to avoid predators.\",\n      color: moldColor,\n      icon: moldIcon, \n    },\n  ],\n}","\n//////////////////////////////////////////////////\n//\n// Easing Functions\n// https://github.com/danro/jquery-easing/blob/master/jquery.easing.js\n// https://hackernoon.com/writing-an-easing-function-a-slightly-interesting-story-70ce667c212a\n//\n//////////////////////////////////////////////////\n\n/**\n * \n * @function CanvasTransition\n * @param {Object} Options\n * @property {number} startValue \n * @property {number} endValue\n * @property {number} durationMs\n * @property {number} fps\n * @callback {function} onStep\n * @callback {function} onComplete  \n * \n */\nexport function CanvasTransition({startValue = 0, endValue = 1, durationMs = 200, fps = 60, onStep, onComplete = _ => {}}) {\n  this.isDone = false; \n  \n  this.stepCount = Math.floor(durationMs / (1000 / fps));\n  this.valueIncrement = (endValue - startValue) / this.stepCount;\n  this.sinValueIncrement = Math.PI / this.stepCount;\n  \n  this.currentValue = startValue;\n  this.currentSinValue = 0;\n  \n  this.step = () => {\n    this.currentSinValue += this.sinValueIncrement;\n    this.currentValue += this.valueIncrement * (Math.sin(this.currentSinValue) ** 2) * 2;\n    \n    if (this.currentSinValue < Math.PI) {\n      onStep(this.currentValue);\n    } else {\n      onStep(endValue);\n      onComplete();\n      this.isDone = true; \n    }\n  }\n}\n\n//////////////////////////////////////////////////\n//\n// Url Functions\n//\n//////////////////////////////////////////////////\n\n/*\n* Get url params.\n*/\nexport function getQueryParamsFromLocation(location = {search: \"\"}) {\n  let search = decodeURIComponent(location.search); \n  return search.slice(1).split('&').reduce((acc, query) => {\n    let q = query.split('=');\n    acc[q[0]] = q[1]\n    return acc;\n  }, {})\n}\n\n//////////////////////////////////////////////////\n//\n// Array Functions\n//\n//////////////////////////////////////////////////\n\n/**\n* @param {Array} array\n* @param {any} value\n* @returns {boolean} True if array contains value\n*/\nexport function contains(arr, val) {\n  return !(arr.indexOf(val) === -1)\n}\n\n/*\n* Array Next\n*/\nexport function next(arr, i) {\n  if(i < 0 || i >= arr.length) {throw new RangeError(\"Array index is out of range.\")}\n  let nexti = (i < arr.length - 1) ? i + 1 : 0; \n  return arr[nexti]; \n}\n\n/*\n* Array Prev\n*/\nexport function prev(arr, i) {\n  if(i < 0 || i >= arr.length) {throw new RangeError(\"Array index is out of range.\")}\n  let previ = (i > 0) ? i - 1 : arr.length - 1; \n  return arr[previ]; \n}\n\n//////////////////////////////////////////////////\n//\n// Object Functions\n//\n//////////////////////////////////////////////////\n\n/*\n* Merge objects\n*/\nexport function mergeObjects(a = {}, b = {}) {\n  let aCopy = Object.assign({}, a);\n  let bCopy = Object.assign({}, b);\n  return Object.assign(aCopy, bCopy)\n}\n\n//////////////////////////////////////////////////\n//\n// Color Functions\n//\n//////////////////////////////////////////////////\n\n/*\n* Ran RGB \n*/\nexport function ranRGB() {\n  return `rgb(${255 * Math.random()|0}, ${255 * Math.random()|0}, ${255 * Math.random()|0})`;\n}\n\n\n//////////////////////////////////////////////////\n//\n// Math Functions\n//\n//////////////////////////////////////////////////\n\n/*\n* To Deg \n*/\nexport function toDeg(angle) {\n  return angle * (180 / Math.PI);\n}\n\n/*\n* To Rad \n*/\nexport function toRad(angle) {\n  return angle * (Math.PI / 180);\n}\n\n//////////////////////////////////////////////////\n//\n// Canvas Functions\n//\n//////////////////////////////////////////////////\n\n/* \n* Simple Circle draw method. \n*/\nexport function fillCircle(ctx, x, y, r, color) {\n  ctx.beginPath();\n  ctx.arc(x, y, r, 0, 2 * Math.PI);\n  if(color) {ctx.fillColor = color}\n  ctx.fill(); \n}\n\nexport function strokeCircle(ctx, x, y, r, color) {\n  ctx.beginPath();\n  ctx.arc(x, y, r, 0, 2 * Math.PI);\n  if(color) {ctx.strokeColor = color}\n  ctx.stroke();\n}\n\n/*\n* Lerp Line\n*/\nexport function drawLerpLine(ctx, start, end, numPoints = 1, magnitude = 5) {\n  if(!ctx || typeof ctx.moveTo == 'undefined') {throw new Error(\"Context is undefined\")}\n  ctx.moveTo(start.x, start.y);\n  let xUnit = (end.x - start.x) / numPoints\n  let yUnit = (end.y - start.y) / numPoints\n  for(let i = 1; i <= numPoints; i++) {\n    let x = start.x + (xUnit * i) + ((Math.random() - 0.5) * magnitude); \n    let y = start.y + (yUnit * i) + ((Math.random() - 0.5) * magnitude);\n    ctx.strokeStyle = 'red'; \n    ctx.strokeRect(x, y, 1, 1);\n    ctx.strokeStyle = 'white'; \n    ctx.lineTo(x, y); \n  }\n}\n\n/*\n* Curve Line\n*/\n// export function drawCurveLine(ctx, start, end, numPoints = 1, magnitude = 5) {\n//   if(!ctx || typeof ctx.moveTo == 'undefined') {throw new Error(\"Context is undefined\")}\n//   let points = [start]; \n//   let xUnit = (end.x - start.x) / numPoints\n//   let yUnit = (end.y - start.y) / numPoints\n\n//   for(let i = 0; i < numPoints; i++) {\n//     let x = start.x + (xUnit * i) + ((Math.random() - 0.5) * magnitude); \n//     let y = start.y + (yUnit * i) + ((Math.random() - 0.5) * magnitude);\n//     points.push(new Point(x, y)); \n//   }\n\n//   ctx.moveTo(start.x, start.y);\n  \n//   if(points.length >= 2) {\n//     for(let i = 1; i <= points.length - 2; i++) {\n//       var xc = (points[i].x + points[i + 1].x) / 2;\n//       var yc = (points[i].y + points[i + 1].y) / 2;\n//       ctx.quadraticCurveTo(points[i].x, points[i].y, xc, yc);\n//       ctx.strokeStyle = 'red'; \n//       ctx.strokeRect(points[i].x, points[i].y, 1, 1);\n//       ctx.strokeStyle = 'white'; \n//       ctx.quadraticCurveTo(points[i].x, points[i].y, points[i+1].x,points[i+1].y);\n//     }\n//   } else {\n//     ctx.lineTo(start.x, start.y)\n//   }\n// }\n\n/*\n* Simplex Line\n*/\nexport function drawSimplexLine(ctx, start, end, numPoints = 1, simplex, time, magnitude = 1) {\n  if(!ctx || typeof ctx.moveTo == 'undefined') {throw new Error(\"Context is undefined\")}\n  ctx.moveTo(start.x, start.y);\n  let xUnit = (end.x - start.x) / numPoints\n  let yUnit = (end.y - start.y) / numPoints\n  for(let i = 1; i <= numPoints; i++) {\n    let x = start.x + (xUnit * i) + simplex.noise2D(i, time) * magnitude; \n    let y = start.y + (yUnit * i) + simplex.noise2D(i, time) * magnitude;\n    ctx.strokeStyle = 'red'; \n    ctx.lineTo(x, y); \n  }\n}\n\n","import { createStore } from 'redux';\nimport data from '../data/data.js'; \nimport { next, prev } from '../components/helperFunctions'\n\nconst systems = data.systems.map((system, i) => {system.index = i; return system}); \nconst paths = systems.map(system => system.path); \n\nfunction stateFromIndex(index) {\n  if(index < 0 || index > systems.length) {throw new RangeError(\"State index is out of range.\")};\n  return {\n    prevSystem: prev(systems, index),\n    curSystem: systems[index],\n    nextSystem: next(systems, index),\n  }\n}\n\nfunction prevSystemState(state) {\n  let curi = state.curSystem.index; \n  let previ = (curi > 0) ? curi - 1 : systems.length - 1; \n  return {...state, ...stateFromIndex(previ)};  \n}\n\nfunction nextSystemState(state) {\n  let curi = state.curSystem.index; \n  let nexti = (curi < systems.length - 1) ? curi + 1 : 0; \n  return {...state, ...stateFromIndex(nexti)};   \n}\n\nfunction stateFromPath(state, path = \"\") {\n  for(let i = 0; i < paths.length; i++) {\n    if(paths[i] === path) {\n      // console.log('hitpath', paths[i])\n      return {...state, ...stateFromIndex(i)};\n    }\n  }\n  // throw new Error(`System path \"${path}\" does not exist`);\n  return state; \n}\n\n// Reducer \nfunction systemsReducer(state = [], action) {\n  // console.log(action);\n  switch (action.type) {\n    case 'NEXT_SYSTEM':\n      return nextSystemState(state)\n    \n    case 'PREV_SYSTEM':\n      return prevSystemState(state)\n\n    case 'SYSTEM_FROM_PATH': \n      return stateFromPath(state, action.path)\n\n    case 'HIDE_ABOUT':\n      return {...state, aboutVisible: false}; \n\n    case 'SHOW_ABOUT':\n      return {...state, aboutVisible: true}; \n\n    case 'WHEEL_UP':\n      return {...prevSystemState(state), wheelIndex: state.wheelIndex + 1};\n\n    case 'WHEEL_DOWN':\n      return {...nextSystemState(state), wheelIndex: state.wheelIndex - 1};\n    \n    default:\n      return state\n  }\n}\n\n// Create a Redux store holding the state of your app.\n// Its API is { subscribe, dispatch, getState }.\n// let store = createStore(systemsReducer, stateFromPath({}, 'traffic'));\n// export default store; \n\n// Create a Redux store holding the state of your app.\n// Its API is { subscribe, dispatch, getState }.\nexport default function createStoreFromPath(path = 'traffic', _aboutVisible = false) {\n  // console.log(\"path\", path)\n  return createStore(systemsReducer, stateFromPath({aboutVisible: _aboutVisible, wheelIndex: 0}, path)); \n} \n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\n function NavResolver(props) {\n  let { history, aboutVisible = false, showAbout, hideAbout, match = {params: ['']}} = props; \n\n  const thinArrow = \n    (<svg className='thin-arrow' viewBox=\"0 0 35 13\">\n      <line className=\"line\" x1=\"25\" y1=\"6.8\" x2=\"0.76\" y2=\"6.8\"/>\n      <polyline className=\"point\" points=\"8.19 0.38 0.76 6.8 8.19 13.23\"/>\n    </svg>)\n\n  let pageType = match.params[0]; \n  let BackLink = <Link className='back-link' to='/selector'>{thinArrow}Back</Link>\n  if(pageType === 'selector') {\n    BackLink = <span></span>\n  }\n\n  let classes = 'navbar'; \n\n  let onAboutClick = _ => showAbout(history)\n  if(aboutVisible) {\n    classes += ' light'; \n    onAboutClick = _ => hideAbout(history)\n  }\n\n \n  return (\n    <div className={classes}>\n      {BackLink}\n      <button className='about-link unbuttoned' onClick={onAboutClick}>About</button>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {aboutVisible: state.aboutVisible}\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    hideAbout: history => {\n      dispatch({type: 'HIDE_ABOUT'});\n      history.replace({search: ''});\n      window.scrollTo(0, 0);\n    },\n    showAbout: history => {\n      dispatch({type: 'SHOW_ABOUT'});\n      history.replace({search: '?about=true'});\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NavResolver)","import React, { Component } from 'react';\n// import $ from 'jquery'; \n\nexport default class LoaderPage extends Component {\n  // constructor(props) {\n  //   super(props)\n  // }\n\n  render() {\n    return (\n      <div className='page-wrapper'>\n        Loader Page\n      </div>       \n    );\n  }\n}\n\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"polygon\", {\n  className: \"st0\",\n  points: \"40.5,19.7 20.5,0.7 0.5,19.7 0.5,33.5 14.5,20.3 14.5,64.7 15.5,64.7 25.5,64.7 26.5,64.7 26.5,20.3 40.5,33.5 \"\n});\n\nvar SvgComponent = function SvgComponent(props) {\n  return React.createElement(\"svg\", _extends({\n    className: \"arrowIcon\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 41 65.2\"\n  }, props), _ref);\n};\n\nexport default __webpack_public_path__ + \"static/media/arrow.de7af7ff.svg\";\nexport { SvgComponent as ReactComponent };","import { fillCircle } from './helperFunctions'\n\n//////////////////////////////////////////////////\n//\n// Canvas Shapes\n//\n//////////////////////////////////////////////////\n\n\n/** \n* Class representing a point.\n* @typedef {Object} Point\n* @property {number} x - The x coordinate\n* @property {number} y - The y coordinate\n*/\nexport function Point(x, y) {\n  this.x = x; \n  this.y = y; \n}\n\n/* \n* Circle\n*/\nexport class Circle {\n  constructor(options = {}) {\n    const {x = 0, y = 0, r = 20, ctx} = options; \n    this.x = x;\n    this.y = y;\n    this.r = Math.max(r, 10);  \n    this.ctx = ctx; \n    this.active = true; \n\n    if(typeof(ctx) === 'undefined') {\n      throw new Error(undefined);\n    }\n  }\n\n  draw = () => {\n    if(this.active && this.ctx) {\n      fillCircle(this.x, this.y, this.r, this.ctx); \n    }\n  }\n}\n\n/* \n* Ripple Visual \n*/\nexport class Ripple extends Circle {\n  // constructor(options) {\n  //   super(options)\n  // }\n\n  update() {\n    this.r--;\n    if(this.r <= 0) {\n      this.active = false; \n    }\n  }\n\n  draw = () => {\n    if(this.active && this.ctx) {\n      fillCircle(this.x, this.y, this.r, this.ctx); \n    }\n  }\n}\n","import { toRad, ranRGB, CanvasTransition } from './helperFunctions'\nimport { Point } from './canvasShapes'\n\n//////////////////////////////////////////////////\n//\n// Canvas shape that controls drawing. \n//\n//////////////////////////////////////////////////\n\n/**\n* Polygon\n* \n*/\nclass Polygon {\n  constructor(opts = {}) {\n    let {center = new Point(0, 0), sides = 3, size = 50, rotation = 0, colors = []} = opts;\n\n    while(colors.length < sides) {\n      colors.push(ranRGB());\n    }\n\n    this.sides = sides;\n    this.size = size;\n    this.center = center;\n    this.colors = colors; \n    this.rotation = rotation;\n    this.hitBufferColors = this.generateHitBufferColors(); \n    this.hitIndex = -1; \n    this.triangles = this.getTrianglesPoints(); \n    this.cursor = new Point(0, 0);\n    this.transitions = []; \n\n    // Methods for defining redraws, to save performance. \n    this.hasChanged = true; \n  }\n\n  rotateTo(deg) {\n    this.rotation = deg;\n    this.triangles = this.getTrianglesPoints(); \n    this.hasChanged = true;\n  }\n\n  rotateToEase(deg, duration) {\n    const rotateTransition = new CanvasTransition({\n      startValue: this.rotation, \n      endValue: deg, \n      durationMs: duration, \n      fps: 60, \n      onStep: res => {\n        this.rotation = res;\n        this.triangles = this.getTrianglesPoints(); \n      }, \n    })\n\n    this.transitions.push(rotateTransition);\n  }\n\n  updateTransitions = () => {\n    if(this.transitions.length > 0) {\n      this.transitions = this.transitions.filter(transition => {\n        transition.step(); \n        \n        // Remove the transition is still active, \n        // return it to the transitions array. \n        if(!transition.isDone) {\n          return transition; \n        }\n        return false;\n      })\n      this.hasChanged = true; \n    }\n  }\n\n  generateHitBufferColors() {\n    return [...Array(this.sides)].map(_ => ranRGB()); \n  }\n\n  getTrianglesPoints() {\n    let curPoint, curAngle, nextPoint, nextAngle, triangle; \n    let triangles = []; \n\n    // Draw each triangle \n    for (let i = 0; i < this.sides; i += 1) {\n      curAngle = (i + 1) * 2 * Math.PI / this.sides - toRad(this.rotation); \n      nextAngle = (i + 2) * 2 * Math.PI / this.sides - toRad(this.rotation); \n      curPoint = new Point(this.center.x + this.size * Math.cos(curAngle), this.center.y + this.size * Math.sin(curAngle));;\n      nextPoint = new Point(this.center.x + this.size * Math.cos(nextAngle), this.center.y + this.size * Math.sin(nextAngle));\n      \n      triangle = [this.center, curPoint, nextPoint]; \n      triangles.push(triangle); \n    }\n    return triangles;\n  }\n  \n  /**\n   * \n   * @param {number} size the new size\n   * @returns {function} draw - the draw function\n   */\n  resize(scale) {\n    this.center = new Point(this.center.x * scale.x, this.center.y * scale.y);\n    this.size *= scale.x; \n    this.triangles = this.getTrianglesPoints();\n    return (ctx, mousePos, time) => {\n      // Maps over the triangles that compose the shape\n      // and draws them all. \n      this.triangles.map((points, i) => {\n        ctx.beginPath(); \n        ctx.moveTo(points[0].x, points[0].y);\n        ctx.fillStyle = this.colors[i]; \n        ctx.lineTo(points[1].x, points[1].y);\n        ctx.lineTo(points[2].x, points[2].y);\n        ctx.fill();\n      })\n    }\n  }\n\n  drawHidden(ctx, colors) {\n    if(colors) {\n      this.triangles.map((points, i) => {\n        ctx.beginPath(); \n  \n        // Draw triangle as three points\n        ctx.lineTo(points[0].x, points[0].y);\n        ctx.lineTo(points[1].x, points[1].y);\n        ctx.lineTo(points[2].x, points[2].y); \n  \n        // Fill points. \n        ctx.fillStyle = colors[i]; \n        ctx.strokeStyle = colors[i];    \n        ctx.lineWidth = 10;     \n        ctx.fill();\n        ctx.stroke();\n        ctx.closePath(); \n      })\n    }\n  }\n \n  update() {\n    // Checks the transitions to clear inactive,\n    // and update state of shape before drawing. \n    this.updateTransitions(); \n  }\n  \n  // Returns true if something has changed since the last draw call. \n  get shouldDraw() {\n    return this.hasChanged\n  }\n\n  draw(ctx) {\n    // const distanceFromMouse = Math.hypot(mousePos.x - this.center.x, mousePos.y - this.center.y)\n    // const magnitude = Math.round(distanceFromMouse / 1 * 2 / 50);\n\n    // Maps over the triangles that compose the shape\n    // and draws them all. \n    this.triangles.map((points, i) => {\n\n      // Draws each triangle as an array of points with specified fill. \n      ctx.beginPath(); \n      ctx.moveTo(points[0].x, points[0].y);\n      ctx.fillStyle = this.colors[i]; \n      ctx.lineTo(points[1].x, points[1].y);\n      ctx.lineTo(points[2].x, points[2].y);\n      ctx.fill();\n\n      // if(i == this.hitIndex) {\n        // ctx.lineTo(points[1].x, points[1].y);\n        // ctx.lineTo(points[2].x, points[2].y);\n        // ctx.fill(); \n        // ctx.stroke();\n      // } \n      // else {\n      //   drawLerpLine(ctx, points[0], points[1], 5, magnitude); \n      //   drawLerpLine(ctx, points[1], points[2], 5, magnitude); \n      //   ctx.lineTo(points[0].x, points[0].y);\n      //   // ctx.fill(); \n      //   ctx.stroke();\n      // }\n      // ctx.closePath();  // Wether or not to draw the final path line. \n    })\n    this.hasChanged = false; \n  }\n}\n\n/**\n* Pentagon\n* @extends Polygon\n*/\nexport default class PentagonController extends Polygon {\n  /**\n  * Create a Pentagon\n  * @param {Object} options - center, size and colors of the Pentagon\n  * @param {Point} options.center - The center point of the Pentagon\n  * @param {number} options.size - The size of the Pentagon\n  * @param {Array.<string>} options.colors - The five colors that make up the Pentagon\n  */\n  constructor(options) {\n    let {center, size, colors, rotation} = options\n\n    let allOpts = {\n      colors: colors,\n      center: center,\n      size: size, \n      sides: 5,\n      rotation: rotation, \n    }\n\n    super(allOpts)\n  }\n}\n","import React, { Component } from 'react';\nimport $ from 'jquery'; \n\nexport default class Canvas extends Component {\n  constructor(props) {\n    super(props)\n\n    this.canvasRef = React.createRef();\n    this.canvas = undefined;\n    this.ctx = undefined; \n\n    this.hoistContext = props.hoistContext;\n    this.hoistCanvas = props.hoistCanvas || function(){}; \n  }\n\n  componentDidMount() {\n    this.canvas = this.canvasRef.current; \n    this.$canvas = $(this.canvas); \n\n    // Make the canvas respond to the Device Pixel Ratio. \n    this.sizeCanvasRender(); \n\n    // Passes the context and canvas to the parent when the ref is defined. \n    this.hoistContext(this.ctx); \n    this.hoistCanvas(this.canvas); \n  }\n\n  sizeCanvasRender = () => {\n    this.dpr = window.devicePixelRatio || 1;\n    // Give the canvas pixel dimensions of their CSS size * the device pixel ratio.\n    this.canvas.width = this.$canvas.width() * this.dpr;\n    this.canvas.height = this.$canvas.height() * this.dpr;\n    this.ctx = this.canvas.getContext('2d');\n    // Scale all drawing operations by the dpr, so you don't have to worry about the difference.\n    this.ctx.scale(this.dpr, this.dpr);\n  }\n\n  shouldComponentUpdate() {\n    return false \n  }\n\n  render() {\n    return (\n      <canvas\n        ref={this.canvasRef} \n        className='canvas-base' \n      />\n    );\n  }\n}\n\n// createHiddenCanvas = () => {\n//   this.hiddenCanvas = document.createElement(\"canvas\"); \n//   this.hiddenCanvas.width = canvas.width;\n//   this.hiddenCanvas.height = canvas.height; \n//   this.hiddenCtx = hiddenCanvas.getContext(\"2d\"); \n// }","\n//////////////////////////////////////////////////\n//\n// Request Animation Frame (rAF) Controller\n//\n// A centralized place to execute functions relying on rAF timing. \n//\n//////////////////////////////////////////////////\n\nexport default class RafController {\n  constructor(options) {\n    let {fps} = options; \n    this.fps = fps;\n    this.startLoop();  \n    this.onStep = function() {}; \n  }\n\n  startLoop() {\n    this.fpsInterval = 1000 / this.fps;\n    this.then = Date.now();\n    this.startTime = this.then;\n    this.ticker = 0; \n    this.increment = 1;  \n    this.loop();\n  }\n\n  stopLoop() {\n    cancelAnimationFrame(this.rafId);  \n  }\n\n  changeFps(fps) {\n    this.fps = fps;\n    this.stopLoop();\n    this.startLoop();\n  }\n\n  loop = () => {\n    this.rafId = requestAnimationFrame(this.loop);\n    \n    // Check the amount of time elapsed since previous animation frame. \n    // If it fits within the fps interval, call step function.  \n    this.now = Date.now();\n    this.elapsed = this.now - this.then;\n    this.ticker += this.increment; \n\n    if(this.elapsed > this.fpsInterval) {\n      this.then = this.now - (this.elapsed % this.fpsInterval);\n      this.onStep(); \n    }\n  }\n\n  /**\n   * \n   * @callback onStep  \n   */\n  step() {\n    this.onStep(this.ticker); \n  }\n}\n","import React, { Component } from 'react';\nimport $ from 'jquery'\nimport PentagonController from './pentagonController'\nimport CanvasBase from './canvasBase'\nimport RafController from '../components/rafController'\nimport data from '../data/data'\n\nexport class PentagonWheel extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      width: undefined,\n      height: undefined,\n      mounted: false, \n    }\n    \n    this.pentagonRef = React.createRef();\n    \n    this.pentagonOptions = {}; \n    this.canvasOptions = {}; \n    this.colors = data.systems.map(system => system.color);    \n\n    this.hoistContext = _ctx => {\n      this.ctx = _ctx;\n    }\n    console.log('constructed')\n  }\n\n  componentDidMount() {\n    if(this.pentagonRef) {\n      console.log('mount')\n      this.pentagon = this.pentagonRef.current; \n      this.width = $(this.pentagon).width();\n      this.height = $(this.pentagon).height();\n      this.center = {x: this.width / 2, y: this.height / 2};\n      this.wheelIndex = 0;\n      \n      let clamp = (size, limit) => {\n        if(size > limit) {\n          return limit; \n        }\n        return size; \n      }\n\n      this.pentagonControllerOptions = {\n        center: this.center,\n        size: clamp(this.width / 2, 200),\n        colors: this.colors,\n        rotation: -(360 / 5 * this.wheelIndex) + 108,\n      }\n  \n      this.pentagonController = new PentagonController(this.pentagonControllerOptions)\n\n      // Executing the step function for the given framerate. \n      this.rafController = new RafController({fps: 60}); \n      this.rafController.onStep = ticker => {\n        if(this.ctx) {\n          this.pentagonController.update(); \n          if(this.pentagonController.shouldDraw) {\n            this.ctx.clearRect(0, 0, this.width, this.height);\n            this.pentagonController.draw(this.ctx);\n          }\n        }\n      }\n\n      this.setState({\n        width: this.width,\n        height: this.height,\n        mounted: true, \n      })\n    }\n  }\n\n  componentWillUpdate(nextProps) {\n    console.log()\n    if(this.state.mounted) {\n      console.log('update mounted');\n      this.wheelIndex = nextProps.wheelIndex;\n      this.pentagonController.rotateToEase(-(360 / 5 * this.wheelIndex) + 108, 666);\n    }\n  }\n\n  render() {\n    return (\n      <span className='pentagon-container' ref={this.pentagonRef}>\n        {this.state.width && this.state.height &&\n          <CanvasBase hoistContext={this.hoistContext} />}\n      </span>\n    );\n  }\n}\n","\n\nimport React from 'react';\n\nexport function SvgOutline(props) {\n  const SvgComponent = props.component; \n  const {color='red', onClick=_=>{}, style={}} = props; \n  \n  return (\n    <span className='svg-outline-container' onClick={onClick} style={style}>\n      <SvgComponent className='svg-outline' style={{stroke: color}} />\n      <span className='fill-container'>\n        <SvgComponent className='svg-fill' style={{fill: color}} />\n      </span>\n    </span>\n  );\n}\n","import React, { Component } from 'react';\nimport {Link} from 'react-router-dom'\nimport { ReactComponent as Arrow } from '../assets/arrow.svg'; \n// import { ReactComponent as Pentagon } from '../assets/pentagon.svg'; \nimport { connect } from 'react-redux'\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\nimport { PentagonWheel } from '../components/pentagonWheel'\nimport { SvgOutline } from '../components/svgOutline'\n\nclass SelectorPage extends Component {\n  render() {\n    // let {prevSystem, curSystem, nextSystem, onPrevClick, onNextClick, wheelIndex} = this.props\n    let {curSystem, onPrevClick, onNextClick, wheelIndex} = this.props\n\n    return (\n      <div className='page-wrapper selector-page'>\n        <span className='content'>\n          <PentagonWheel {...this.props} wheelIndex={wheelIndex}/>\n          <span className='arrows-container'>\n            <SvgOutline component={Arrow} onClick={onPrevClick} color='black'/>\n            <SvgOutline component={Arrow} onClick={onNextClick} color='black' style={{transform: 'rotate(180deg)'}}/>\n          </span>\n            <span className='option-container'>\n              <TransitionGroup component={null}>\n                <CSSTransition key={curSystem.path} timeout={{enter: 333, exit: 666}} classNames='rotate'>\n                  <Link to={`/transition/${curSystem.path}`} className='option-inner'>\n                      <h1 className='title'>{curSystem.question}</h1>\n                    <span className='subtitle'>\n                      <h4>system</h4>\n                      <h3 className='index'>{curSystem.index + 1}/5</h3>\n                    </span>\n                  </Link>\n                </CSSTransition> \n              </TransitionGroup>\n            </span>\n        </span>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    nextSystem: state.nextSystem,\n    curSystem: state.curSystem,\n    prevSystem: state.prevSystem,\n    wheelIndex: state.wheelIndex, \n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onPrevClick: id => {\n      dispatch({type: 'WHEEL_UP'}); \n    },\n    onNextClick: id => {\n      dispatch({type: 'WHEEL_DOWN'}); \n    },\n  }\n}\n\nSelectorPage = connect(mapStateToProps, mapDispatchToProps)(SelectorPage)\n\nexport default SelectorPage","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"polygon\", {\n  className: \"p1\",\n  points: \"46.32 227.47 193.96 227.47 120.32 126.47 46.32 227.47\"\n});\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"polygon\", {\n  className: \"p2\",\n  points: \"0.25 87.26 45.93 227.85 120.32 126.47 0.25 87.26\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"polygon\", {\n  className: \"p3\",\n  points: \"193.96 227.47 240.39 87.26 120.32 126.47 193.96 227.47\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"polygon\", {\n  className: \"p4\",\n  points: \"120.32 0 120.32 126.47 240.63 87.42 120.32 0\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"polygon\", {\n  className: \"p5\",\n  points: \"120.32 0 0 87.42 120.32 126.47 120.32 0\"\n});\n\nvar SvgComponent = function SvgComponent(props) {\n  return React.createElement(\"svg\", _extends({\n    className: \"pentagonIcon\",\n    viewBox: \"0 0 240.64 227.85\"\n  }, props), _ref, _ref2, _ref3, _ref4, _ref5);\n};\n\nexport default __webpack_public_path__ + \"static/media/pentagon.68087588.svg\";\nexport { SvgComponent as ReactComponent };","import Boid from 'boid'; // import $ from 'jquery'; \n\n//////////////////////////////////////////////////\n//\n// Boid Pool Controller\n// https://github.com/ianmcgregor/boid\n//\n//////////////////////////////////////////////////\n\nexport default class BoidPoolController {\n  constructor(options = {}) {\n    const {boidCount = 40, width = 100, height = 100, x = 0, y = 0} = options; \n\n    this.center = Boid.vec2(width / 2,height / 2);\n    this.boidPool = []; \n    this.boidCount = boidCount;\n    this.width = width;\n    this.height = height; \n    this.x = x;\n    this.y = y;\n\n    this.state = \"flock\"; \n    this.target = Boid.vec2(0, 0);\n    this.chaser = Boid.vec2(0, 0);\n    this.avoidDistance = 80;\n\n    this.initializeBoids(); \n  }\n\n  initializeBoids() {\n    let boid; \n    for(let i = 0; i < this.boidCount; i++) {\n      boid = new Boid();\n      boid.edgeBehavior = \"bounce\";\n      boid.setBounds(this.width, this.height, this.x, this.y);\n      boid.position.x = (this.width / 2) * Math.random() + this.width / 4;\n      boid.position.y = (this.height / 2) * Math.random() + this.height / 4;\n      boid.velocity.x = 20 * Math.random() - 10;\n      boid.velocity.y = 20 * Math.random() - 10;\n      this.boidPool.push(boid);\n    }\n  }\n\n  distance(pointA, pointB) {\n    return Math.hypot(pointA.x - pointB.x, pointA.y - pointB.y)\n  }\n\n  getUpdateFn() {\n    switch(this.state) {\n      case \"flock\":\n        return boid => boid.flock(this.boidPool).update();\n        break; \n\n      case 'school': \n        return boid => {\n          if(this.distance(boid.position, this.chaser) < 50) {\n            boid.flee(this.chaser).update();\n          } else if(this.distance(boid.position, this.center) > (this.width * 0.3)) {\n            boid.seek(this.center).update();\n          } else {\n            boid.flock(this.boidPool).update();\n          }\n        }\n        break;\n          \n      case \"wander\":\n      default: \n        return boid => boid.wander().update();\n    }\n  }\n\n  stepPool() {\n    let updateBoid = boid => boid.wander().update(); \n\n    switch(this.state) {\n      case \"flock\":\n        updateBoid = boid => boid.flock(this.boidPool).update();\n        break; \n\n      case 'school': \n        // updateBoid = boid => boid.flock(this.boidPool).flee(this.chaser).update();\n        updateBoid = boid => {\n          if(this.distance(boid.position, this.chaser) < 50) {\n            boid.flee(this.chaser).update();\n          // } else if(this.distance(boid.position, this.center) > (this.width * 0.3)) {\n            // boid.seek(this.center).update();\n            // boid.velocity *= 0;\n            // boid.update();\n          } else {\n            boid.flock(this.boidPool).update();\n          }\n        }\n        break;\n          \n      case \"wander\":\n      default: \n        updateBoid = boid => boid.wander().update();\n        break;\n    }\n\n    this.boidPool.map(updateBoid)\n  }\n\n  // Updates target or chaser for the flee and seek states. \n  updateTarget(x, y) {\n    this.target = Boid.vec2(x, y);\n  }\n\n  updateChaser(x, y) {\n    this.chaser = Boid.vec2(x, y);\n  }\n\n  // States for  the collection to use. \n  setStateFlee() {\n    this.state = \"flee\";\n    this.boidPool.map(boid => boid.maxSpeed = 2);\n  }\n\n  setStateSeek() {\n    this.state = \"seek\";\n  }\n\n  setStateWander() {\n    this.state = \"wander\";\n  }\n\n  setStateFlock() {\n    this.state = \"flock\";\n  }\n\n  setStateBeach() {\n    this.state = 'flock';\n    this.boidPool.map(boid => {\n      boid.minDistance = 100;\n      boid.maxSpeed = 1;\n    })\n  }\n\n  setStateSchool() {\n    this.state = 'school';\n    this.avoidDistance = 80; \n    this.boidPool.map(boid => {\n      boid.minDistance = 30;\n      boid.mass = 1;\n      boid.maxSpeed = 3;\n      boid.maxForce = 1;\n      boid.maxDistance = 80;\n    })\n  }\n\n  // Updates for individual boids. \n  setBounds(width, height) {\n    this.boidPool.map(boid => boid.setBounds(width, height))\n  }\n}","import Boid from 'boid'; // import $ from 'jquery'; \nimport { CanvasTransition, strokeCircle } from '../components/helperFunctions'\n\n//////////////////////////////////////////////////\n//\n// Cursor Controller\n// https://github.com/ianmcgregor/boid\n//\n//////////////////////////////////////////////////\n\nexport default class CursorController {\n  constructor(options = {}) {\n    const {color, shape, width, clearFrames, _x = -10, _y = -10} = options; \n\n    this.mousePos = {\n      x: _x,\n      y: _y,\n    }\n\n    this.initialColor = color; \n    this.width = width;\n    this.clearFrames = clearFrames; \n\n    this.boid = new Boid();\n    this.boid.position.x = 500; \n    this.boid.position.y = 500;\n    this.boid.maxSpeed = 2;\n    this.boid.velocity.x = 1;\n    this.boid.velocity.y = 1;\n    this.boid.edgeBehavior = 'EDGE_NONE';\n    this.color = 'rgba(0, 0, 0, 0.3)';\n    this.playing = true; \n  }\n\n  distance(pointA, pointB) {\n    return Math.hypot(pointA.x - pointB.x, pointA.y - pointB.y)\n  }\n\n  update() {\n    if(this.playing) {\n      this.boid.arrive(Boid.vec2(this.mousePos.x, this.mousePos.y)).update();   \n    } \n    else if(this.slowdown) {\n      this.slowdown.step(); \n    }\n  }\n\n  pause() {\n    this.playing = false; \n    this.color = 'rgba(0, 0, 0, 0.3)';\n    this.slowdown = new CanvasTransition({startValue: 100, endValue: 0, durationMs: 666, onStep: value => {\n      this.boid.position.x += this.boid.velocity.x * (value / 100); \n      this.boid.position.y += this.boid.velocity.y * (value / 100); \n    }});\n  }\n\n  play() {\n    this.color = this.initialColor;\n    this.playing = true; \n  }\n\n  onClick() {\n    // this.tempMaxSpeed = this.boid.maxSpeed * 2; \n    // this.boid.maxSpeed = this.tempMaxSpeed\n  }\n\n  // clear(ctx) {\n  //   if(this.clearFrames){\n  //     ctx.clearRect(this.boid.position.x - 20, this.boid.position.y - 20, 40, 40);\n  //   }\n  // }\n\n  draw(ctx) {\n    ctx.beginPath();\n    ctx.strokeStyle = this.color;\n    ctx.lineWidth = this.width; \n    ctx.moveTo(this.boid.position.x - this.boid.velocity.x * 3, this.boid.position.y - this.boid.velocity.y * 3)\n    ctx.lineTo(this.boid.position.x + this.boid.velocity.x * 3, this.boid.position.y + this.boid.velocity.y * 3);\n    ctx.stroke();\n    \n    // let rotation = this.boid.velocity.angle + Math.PI / 2;\n\n    // ctx.beginPath(); \n    // ctx.strokeStyle = this.color;\n    // ctx.lineWidth = this.width; \n    // ctx.ellipse(this.boid.position.x, this.boid.position.y, \n    //   4, 6 + 2 * Math.abs(this.boid.velocity.y), rotation, 0, 2 * Math.PI\n    // );\n    // ctx.fill();\n\n    // ctx.lineWidth = 0.5;\n    // strokeCircle(ctx, this.mousePos.x, this.mousePos.y, 10, 10);\n  }\n}","import Boid from 'boid'; // import $ from 'jquery'; \nimport BoidPoolController from './boidPoolController'; \nimport CursorController from './cursorController'; \nimport { mergeObjects } from '../components/helperFunctions';\n\n\n//////////////////////////////////////////////////\n//\n// Simulation Controller\n//\n//////////////////////////////////////////////////\n\nexport default class SimulationController {\n  constructor(options = {}) {\n    let {\n      simulationType = 'colony', \n      width,\n      height,\n      padding = {width: 0, height: 0},\n      boidSettings,\n      cursorBoidSettings, \n    } = options; \n\n    // Creates the simulation bounds with padding and passes to pool controller.\n    this.createBounds(width, height, padding);\n\n    // Creates the pool controller.\n    if(boidSettings.isVisible) {\n      this.createBoidPoolController(boidSettings);\n      this.boidSettings = boidSettings; \n      this.clearBoidFrames = boidSettings.clearFrames; \n    }\n\n    // Creates the cursor controller. \n    if(cursorBoidSettings.isVisible) {\n      this.createCursorBoid(cursorBoidSettings);\n      this.clearCursorFrames = cursorBoidSettings.clearFrames; \n      this.cursorVisible = cursorBoidSettings.cursorVisible;\n    }\n  }\n\n  createBounds(width, height, padding) {\n    this.bounds = {\n      x: padding.width / 2, \n      y: padding.height / 2, \n      width: width - padding.width,\n      height: height - padding.height\n    }\n    this.activeBounds = this.bounds; \n    this.minX = this.bounds.x + this.bounds.width;\n    this.maxX = 0; \n    this.minY = this.bounds.y + this.bounds.height;\n    this.maxY = 0;\n  }\n\n  createBoidPoolController(boidSettings) {\n    this.boidPoolController = new BoidPoolController({\n      boidCount: boidSettings.boidCount,\n      maxSpeed: boidSettings.maxSpeed, \n      width: this.bounds.width, \n      height: this.bounds.height, \n      x: this.bounds.x,\n      y: this.bounds.y,\n    })\n    this.boidPoolController.setStateSchool();\n  }\n\n  createCursorBoid(cursorBoidSettings) {\n    this.cursorController = new CursorController(\n      mergeObjects(cursorBoidSettings, {x: this.width / 2, y: this.height / 2})\n    ); \n  }\n\n  resetBounds() {\n    this.minX = this.bounds.x + this.bounds.width;\n    this.maxX = 0; \n    this.minY = this.bounds.y + this.bounds.height;\n    this.maxY = 0;\n  }\n\n  updateBounds = (position) => {\n    if(position.x > this.maxX) {\n      this.maxX = position.x;\n    } else if (position.x < this.minX) {\n      this.minX = position.x; \n    }\n    if(position.y > this.maxY) {\n      this.maxY = position.y;\n    } else if (position.y < this.minY) {\n      this.minY = position.y; \n    }\n  }\n\n  drawBoid(ctx, boid) {\n    // let rotation = boid.velocity.angle + Math.PI / 2\n    // console.log(rotation)\n    ctx.moveTo(boid.position.x - boid.velocity.x * 3, boid.position.y - boid.velocity.y * 3)\n    ctx.lineTo(boid.position.x + boid.velocity.x * 3, boid.position.y + boid.velocity.y * 3);\n    // ctx.strokeRect(boid.position.x, boid.position.y, 10, 10);\n  }\n\n  step(ctx, mousePos) {\n    if(this.cursorController && this.clearCursorFrames) {\n      let cursorBoid = this.cursorController.boid; \n      let prevMousePos = this.cursorController.mousePos;\n      ctx.clearRect(cursorBoid.position.x - 20, cursorBoid.position.y - 20, 40, 40);\n      \n      // if(!this.cursorVisible) {\n      //   ctx.clearRect(prevMousePos.x - 60, prevMousePos.y - 60, 120, 120);\n      // }\n    }\n    if(this.boidPoolController && this.clearBoidFrames) {\n      ctx.clearRect(this.activeBounds.x - 20, this.activeBounds.y - 20, this.activeBounds.width + 40, this.activeBounds.height + 40);\n    }\n\n    if(this.cursorController) {\n      this.cursorController.update();\n      let cursorBoid = this.cursorController.boid; \n      this.boidPoolController.updateChaser(cursorBoid.position.x, cursorBoid.position.y);\n      this.cursorController.mousePos = mousePos; \n      this.cursorController.draw(ctx);\n    }\n    if(this.boidPoolController) {\n      this.updateFn = this.boidPoolController.getUpdateFn(); \n      this.resetBounds(); \n\n      ctx.strokeStyle = this.boidSettings.color;\n      ctx.lineWidth = this.boidSettings.width; \n      ctx.beginPath(); \n\n      this.boidPoolController.boidPool.map(boid => {\n        this.updateFn(boid); \n        this.updateBounds(boid.position); \n        this.drawBoid(ctx, boid); \n      });\n\n      ctx.stroke(); \n\n      this.activeBounds = {\n        x: this.minX - 15,\n        y: this.minY - 15,\n        width: this.maxX - this.minX + 30,\n        height: this.maxY - this.minY + 30, \n      }\n    }\n  }\n\n  onClick() {\n    this.cursorController.onClick();\n    // this.boidPoolController.onClick(); \n  }\n\n  onMouseLeave() {\n    if(this.cursorController) {\n      this.cursorController.pause(); \n    }\n  }\n  \n  onMouseEnter() {\n    if(this.cursorController) {\n      this.cursorController.play(); \n    }\n  }\n\n  resize(scale) {\n    this.center = {x: this.center.x * scale.x, y: this.center.y * scale.y};\n    this.width *= scale.x; \n    this.height *= scale.y; \n    this.boidPoolController.setBounds(\n      this.bounds.width, \n      this.bounds.height,\n      this.bounds.x,\n      this.bounds.y,\n    ) \n  }\n\n  shouldDraw() {\n    return true\n  }\n}","\n//////////////////////////////////////////////////\n//\n// Simulation Settings\n//\n//////////////////////////////////////////////////\n\n// Simulation settings\nexport const defaultSettings = {\n  simulationType: 'traffic',\n  rafSettings: {\n    fps: 60,\n  },\n  simulationSettings: {\n    cursorBoidSettings: {\n      isVisible: true,\n      cursorVisible: true,\n      clearFrames: true, \n      color: 'black',\n      width: 4,\n    },\n    boidSettings: {\n      isVisible: true,\n      clearFrames: true, \n      drawActiveBounds: false, \n      count: 50, \n      minSpeed: 2, \n      maxSpeed: 5,\n      shape: 'line',\n      color: 'white',\n      width: 2\n    }\n  }\n}\n\nexport const prettyDrawingSettings = {\n  simulationType: 'school',\n  rafSettings: {\n    fps: 60,\n  },\n  simulationSettings: {\n    cursorBoidSettings: {\n      isVisible: false,\n      cursorVisible: false,\n      clearFrames: false, \n      color: 'black',\n    },\n    boidSettings: {\n      isVisible: true,\n      clearFrames: false, \n      drawActiveBounds: false, \n      count: 60, \n      shape: 'line',\n      color: 'rgba(0, 0, 0, 0.1)',\n      width: 2,\n      poolSettings: {\n        state: 'school',\n        avoidDistance: 80, \n        minDistance: 30,\n        mass: 1,\n        maxSpeed: 3,\n        maxForce: 1,\n        maxDistance: 80,\n      }\n    }\n  }\n}\n\nexport const trafficSettings = {\n\n}\n\nexport const colonySettings = {\n\n}\n\nexport const schoolSettings = {\n\n}\n\nexport const crowdsSettings = {\n\n}\n\nexport const slimeSettings = {\n\n}\n","import React, { Component } from 'react';\nimport $ from 'jquery'\nimport CanvasBase from '../components/canvasBase'\nimport RafController from '../components/rafController'\nimport SimulationController from './simulationController'\nimport { mergeObjects } from '../components/helperFunctions'\nimport { defaultSettings, prettyDrawingSettings, trafficSettings, colonySettings, \n  schoolSettings, crowdsSettings, slimeSettings } from './simulationSettings'\n\n//////////////////////////////////////////////////\n//\n// Simulation Base\n//\n//////////////////////////////////////////////////\n\nexport default class SimulationWrapper extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      width: false,\n      height: false,\n    }\n\n    this.simulationType = props.path; \n    this.simulationRef = React.createRef();\n    this.cursorIconRef = React.createRef(); \n    this.hoistContext = _ctx => {\n      this.ctx = _ctx;\n    }\n    this.hoistCanvas = _canvas => {\n      this.canvas = _canvas; \n      this.canvasRect = this.canvas.getBoundingClientRect(); \n    }\n\n    switch(this.simulationType) {\n      case 'traffic':\n        this.currentSettings = mergeObjects(defaultSettings, trafficSettings);\n\n      case 'colony':\n        this.currentSettings = mergeObjects(defaultSettings, colonySettings);\n\n      case 'school':\n        this.currentSettings = mergeObjects(defaultSettings, schoolSettings);\n\n      case 'crowds':\n        this.currentSettings = mergeObjects(defaultSettings, crowdsSettings);\n\n      case 'slime':\n        this.currentSettings = mergeObjects(defaultSettings, slimeSettings);\n    }\n\n    // this.currentSettings = mergeObjects(defaultSettings, prettyDrawingSettings);\n\n    this.styles = {\n      cursor: this.currentSettings.simulationSettings.cursorBoidSettings.cursorVisible ? 'pointer' : 'none',\n    }\n\n    this.mousePos = {\n      x: 100, \n      y: 100\n    }\n  }\n\n  updateSimulationSettings(settings) {\n    this.currentSettings = mergeObjects(this.defaultSettings, settings); \n  }\n\n  createRaf(settings) {\n    return new RafController({fps: 60});\n  }\n\n  createSimulation(settings) {\n    return new SimulationController({\n      boidCount: settings.boidCount,\n      width: this.width,\n      height: this.height,\n      simulationType: settings.simulationType,\n      cursorBoidSettings: settings.cursorBoidSettings, \n      boidSettings: settings.boidSettings,\n    });\n  }\n\n  componentDidMount() {\n    if(this.simulationRef) {\n      this.simulation = this.simulationRef.current; \n      this.$simulation = $(this.simulation); \n      \n      // Defines bounds based on the simulation size. \n      this.width = this.$simulation.width();\n      this.height = this.$simulation.height();\n      this.center = {x: this.width / 2, y: this.height / 2};\n      this.simRect = this.simulation.getBoundingClientRect(); \n\n      // Creates the simulation and defines this.rafController. \n      this.rafController = this.createRaf(this.currentSettings.rafSettings);\n      this.simulationController = this.createSimulation(this.currentSettings.simulationSettings);\n\n      // Uses the rafController to execute the sim at a specified frame rate. \n      this.rafController.onStep = ticker => {\n        if(this.ctx) {\n          this.simulationController.step(this.ctx, this.mousePos);\n        }\n      }\n\n      // Sets the state to force a rerender of the canvas. \n      this.setState({\n        width: this.width,\n        height: this.height,\n      });\n    }\n  }\n\n  onMouseMove = (e) => {\n    // if(this.cursorIconRef.current) {\n    //   console.log(this.cursorIconRef.current);\n    //   this.cursorIconRef.current.style.left = e.clientX;\n    //   this.cursorIconRef.current.style.top = e.clientY;      \n    // }\n    if(this.canvasRect && this.rafController && this.rafController.ticker % 4 == 0) {\n      this.mousePos.x = e.clientX - this.canvasRect.left;\n      this.mousePos.y = e.clientY - this.canvasRect.top;\n    }\n  }\n\n  onMouseClick = (e) => {\n    this.simulationController.onClick(); \n  }\n\n  onMouseEnter = () => {\n    this.simulationController.onMouseEnter(); \n  }\n\n  onMouseLeave = () => {\n    this.simulationController.onMouseLeave(); \n  }\n\n  render() {\n    return (\n      <div \n        className={`simulation-canvas ${this.props.path}`} \n        ref={this.simulationRef} \n        onMouseMove={this.onMouseMove}\n        onClick={this.onMouseClick}\n        onMouseEnter={this.onMouseEnter}\n        onMouseLeave={this.onMouseLeave}\n        style={this.styles}\n      >\n        {/* <div className='cursorIcon' ref={this.cursorIconRef} ></div> */}\n        {this.state.width && this.state.height &&\n          <CanvasBase hoistContext={this.hoistContext} hoistCanvas={this.hoistCanvas}/>\n        }\n      </div>    \n    );\n  }\n}","import React, { Component } from 'react';\nimport {Link} from 'react-router-dom'\n// import $ from 'jquery'; \nimport { connect } from 'react-redux'\n// import Pixi from '../components/pixi'; \nimport { ReactComponent as Pentagon } from '../assets/pentagon.svg'; \nimport SimulationWrapper from '../simulations/simulationWrapper';\n// import RafController from '../components/rafController';\nimport instructionPng from '../assets/instructionPng.png';\nimport { SimpleFade } from '../components/fadeWrapper';\nimport { ReactComponent as Arrow } from '../assets/arrow.svg'; \nimport { SvgOutline } from '../components/svgOutline'\n\nclass SimulationPage extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      showOverlay: true,\n    }\n\n    // this.rafController = new RafController({fps: 60}); \n  }\n\n  componentDidMount() {\n    setTimeout(_ => {\n      this.setState({showOverlay: false})\n    }, 4000)\n  }\n\n  // onMouseMove = (e) => {\n  //   if(this.rafController && this.rafController.ticker % 2 == 0) {\n  //     this.setState({mouseX: e.clientX, mouseY: e.clientY});\n  //   }\n  // }\n\n  render() {\n    let {curSystem = {}, nextSystem = {}, aboutVisible, onNextClick} = this.props; \n    \n    let {\n      index = 0, \n      question = \"question\", \n      description = \"description\", \n      rules = [\"test\", \"test\"], \n      path = 'path', \n      instructions = 'Chase the fish to see how they follow their neighbors, and avoid predators.',\n      color = 'red', \n    } = curSystem; \n\n    let {\n      path : nextPath = 'test'\n    } = nextSystem; \n\n    const styles = {\n      background: color, \n    }\n\n    const mouseX = this.state.mouseX,\n      mouseY = this.state.mouseY; \n\n    return (\n      <div className={`page-wrapper simulation-page ${path}`} onMouseMove={this.onMouseMove}>\n        {/* <div className='pseudoCursor' style={{transform: `translate(${mouseX}px, ${mouseY}px)`}}></div> */}\n        {/* <SimpleFade in={this.state.showOverlay} duration={333}> */}\n          {this.state.showOverlay && <span className='overlay'>\n            <span className='inner'>\n              <h3 className='title'>{instructions}</h3>\n              <span className='instruction-graphic'>\n                <img src={instructionPng} />\n              </span>\n            </span>\n          </span>}\n        {/* </SimpleFade> */}\n        <span className='content' >\n          <section className='description-panel'>\n            <span>\n              <h3 className='index'>{index + 1}/5</h3>\n              <h2 className='question'>{question}</h2>\n            </span>\n            <span>\n              <span className='line'></span>\n              <h2 className='title'>Emergent System</h2>\n              <h2 className='description'>{description}</h2>\n              <h2 className='title'>Rules</h2>\n              <h2 className='rules'>{rules}</h2>\n              <Link to={`/selector`}>\n                <Pentagon style={{fill: 'none', stroke: 'black'}}/>\n              </Link> \n            </span>\n          </section>\n          <span className='simulation-panel' style={styles}>\n            <SimulationWrapper {...curSystem}/>\n            <button className='next-sim unbuttoned' onClick={onNextClick}>\n              <h4>next</h4>\n              <h3>{nextPath}</h3>\n              <SvgOutline component={Arrow} color='black' style={{transform: 'rotate(180deg)'}}/>\n            </button>\n          </span>\n        </span>\n      </div>    \n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    nextSystem: state.nextSystem,\n    curSystem: state.curSystem,\n    // prevSystem: state.prevSystem,\n    aboutVisible: state.aboutVisible, \n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onNextClick: id => {\n      dispatch({type: 'NEXT_SYSTEM'}); \n    },\n    onPrevClick: id => {\n      dispatch({type: 'PREV_SYSTEM'}); \n    },\n    onPath: path => {\n      dispatch({type: 'SYSTEM_FROM_PATH', path: path})\n    }\n  }\n}\n\nSimulationPage = connect(mapStateToProps, mapDispatchToProps)(SimulationPage)\n\nexport default SimulationPage\n\n","import React, { Component, Children } from 'react';\nimport Transition from 'react-transition-group/Transition'\nimport { mergeObjects } from '../components/helperFunctions';\n\n// // https://swizec.com/blog/fade-in-lazy-loaded-images-react-css-quick-guide/swizec/8163\n// // Great FadeIn Component\nexport class FadeWrapper extends Component {\n  constructor(props) {\n      super(props);\n\n      this.state = { loaded: false, };\n\n      this.defaultStyle = {\n          transition: `opacity ${this.props.duration}ms ease-in-out`,\n          opacity: 0,\n          height: 0,\n      }\n\n      this.transitionStyles = {\n          entering: { opacity: 0, height: 0, pointerEvents: \"none\" },\n          entered: { opacity: 1, height: \"auto\", pointerEvents: \"all\" },\n      };\n\n      this.onLoad = this.onLoad.bind(this);\n  }\n\n  onLoad() { this.setState({ loaded: true }); };\n\n  render() {\n      const { height, children, duration } = this.props,\n          { loaded } = this.state;\n\n      return (\n          <Transition in={loaded} timeout={duration}>\n              {state => children(this.onLoad, {...this.defaultStyle, ...this.transitionStyles[state]})}\n          </Transition>\n      );\n  }\n}\n\nexport class SimpleFade extends Component {\n    constructor(props) {\n        super(props);\n  \n        this.defaultStyle = {\n            transition: `opacity ${this.props.duration}ms ease-in-out`,\n            opacity: 0,\n        }\n  \n        this.transitionStyles = {\n            entering: { opacity: 0, pointerEvents: \"none\" },\n            entered: { opacity: 1, pointerEvents: \"all\" },\n        };\n    }\n  \n    render() {\n        const { children, duration = 333, shouldRender } = this.props;\n        return (\n            <Transition in={shouldRender} timeout={duration}>\n                {state => \n                    <span style={{...this.defaultStyle, ...this.transitionStyles[state]}}>\n                        {this.props.children}\n                    </span>\n                }\n            </Transition>\n        );\n    }\n  }\n\n// proptypes\n","import React, { Component } from 'react';\nimport {Link} from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nclass TransitionPage extends Component {\n  // constructor(props) {\n  //   super(props)\n\n    \n  // }\n\n  render() {\n    let {curSystem = {}} = this.props; \n\n    let {\n      // index = 0, \n      // question = \"question\", \n      // description = \"description\", \n      // rules = [\"test\", \"test\"], \n      // type = \"birds\",\n      path = 'path', \n      // instructions = 'Chase the fish to see how they follow their neighbors to avoid predators.',\n      // coverImage = {src: 'test'},\n    } = curSystem; \n\n    return (\n      <div className={`page-wrapper transition-page ${path}`}>\n        <span className='content'>\n          <Link to={`/simulation/${path}`} className='next-button'>NEXT</Link>\n        </span>\n      </div>    \n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    nextSystem: state.nextSystem,\n    curSystem: state.curSystem,\n    prevSystem: state.prevSystem\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onNextClick: id => {\n      dispatch({type: 'NEXT_SYSTEM'}); \n    },\n    onPrevClick: id => {\n      dispatch({type: 'PREV_SYSTEM'}); \n    },\n    onPath: path => {\n      dispatch({type: 'SYSTEM_FROM_PATH', path: path})\n    }\n  }\n}\n\nTransitionPage = connect(mapStateToProps, mapDispatchToProps)(TransitionPage)\n\nexport default TransitionPage","import React, { Component } from 'react';\n// import {Link} from 'react-router-dom'\n\nexport default class NoMatchPage extends Component {\n  // constructor(props) {\n  //   super(props)\n  // }\n\n  render() {\n    return (\n      <div className='page-wrapper no-match-page'>\n       \n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport {Route, Switch, Redirect} from 'react-router-dom'\nimport LoaderPage from '../pages/loaderPage.js'; \nimport SelectorPage from '../pages/selectorPage.js'; \nimport SimulationPage from '../pages/simulationPage.js'; \nimport TransitionPage from '../pages/transitionPage.js'; \nimport NoMatchPage from '../pages/noMatchPage'; \nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\n\nfunction PageResolver({location, history}) {\n  return(\n    <TransitionGroup component={null}>\n      <CSSTransition key={location.pathname} timeout={{enter: 300, exit: 300}} classNames='fade'>\n        <Switch location={location}>\n          <Route path=\"/home\" component={LoaderPage} />\n          <Route path=\"/selector\" component={SelectorPage} />\n          <Route path=\"/transition/:type\" component={TransitionPage} />\n          <Route path=\"/simulation/:type\" component={SimulationPage} />\n          <Redirect from=\"/simulation\" to='/simulation/traffic' />\n          <Redirect from=\"/\" to=\"selector\" />\n          <Route component={NoMatchPage} />\n        </Switch>\n      </CSSTransition>\n    </TransitionGroup>\n  )\n}\n\nexport default PageResolver;","import React, { Component } from 'react';\nimport { Transition } from 'react-transition-group'; \nimport { connect } from 'react-redux'\n\nconst duration = 300; \n\nconst defaultStyle = {\n  display: 'block',\n  transition: `opacity ${duration}ms ease-in-out`,\n  opacity: 0,\n}\n\nconst transitionStyles = {\n  entered:  { opacity: 1, zIndex: 10},\n  exited: { pointerEvents: 'none', zIndex: -5}\n};\n\nclass AboutResolver extends Component {\n  constructor(props) {\n    super(props)\n\n    // The about Resolver hooks into page changes and the state of the resolver.\n    // If the forward or back button is pressed with the \n    props.history.listen((location, action) => {\n      if(action === 'POP' && props.aboutVisible) {\n        props.hideSelf();\n        console.log(location)\n      }\n    });\n  }\n\n  render() {\n    return (\n      <Transition in={Boolean(this.props.aboutVisible)} timeout={{enter: 0, exit: duration}} classNames='toggle-about'>\n        {(state) => (\n          <div className='about-overlay' style={{...defaultStyle, ...transitionStyles[state]}}>\n            <span className='content'>\n              About Page\n            </span>\n          </div>\n        )}\n      </Transition>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    nextSystem: state.nextSystem,\n    curSystem: state.curSystem,\n    prevSystem: state.prevSystem,\n    aboutVisible: state.aboutVisible,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onNextClick: id => {\n      dispatch({type: 'NEXT_SYSTEM'}); \n    },\n    onPrevClick: id => {\n      dispatch({type: 'PREV_SYSTEM'}); \n    },\n    hideSelf: id => {\n      dispatch({type: 'HIDE_ABOUT'});\n    }\n  }\n}\n\nAboutResolver = connect(mapStateToProps, mapDispatchToProps)(AboutResolver)\nexport default AboutResolver\n\n","import React, { Fragment } from 'react';\nimport {Route} from 'react-router-dom'\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\nimport background from '../assets/backgroundTest.jpg'; \nimport { connect } from 'react-redux'\n// import backgroundRepeat from '../assets/back-repeat.png'\n\nfunction BackgroundResolver(props){\n  const {location, curSystem = {}} = props;\n  return(\n    <TransitionGroup className={`background ${location.pathname.split('/')[1]}`}>\n      <CSSTransition key={curSystem.coverImage.src} timeout={{enter: 666, exit: 333}} classNames='back'>\n        <Route path=\"/(selector|transition|simulation)\" render={_ => {\n          let {coverImage = '', icon, color} = curSystem;\n          let Icon = icon; \n          return(\n            <Fragment>\n              <div className='content'>\n              {/* TODO: ALT */}\n                <img className='system-image' alt='' src={coverImage.src}></img>\n                <Icon className='system-icon' style={{fill: color}}/>\n              </div>\n              <img className='texture' alt='' src={background}></img>       \n            </Fragment>\n          )}\n        }  \n        />\n      </CSSTransition>\n    </TransitionGroup>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {curSystem: state.curSystem}\n}\n\nexport default connect(mapStateToProps)(BackgroundResolver);\n\n","import React, { Component } from 'react';\nimport {Provider} from 'react-redux';\nimport createStoreFromPath from '../redux/store'; \nimport { Route, withRouter } from 'react-router-dom';\nimport NavResolver from './navResolver'; \nimport PageResolver from './pageResolver';\nimport AboutResolver from './aboutResolver'; \nimport BackgroundResolver from './backgroundResolver'; \nimport { getQueryParamsFromLocation } from '../components/helperFunctions.js';\n\n\nclass ReduxWrapper extends Component{\n  constructor(props) {\n    super(props)\n\n\n    // Checks if the url is a simulation, then initializes the store with that sim. \n    let simRegex = /\\/(simulation|transition)\\/([A-Za-z]+)/\n    let matches = props.location.pathname.match(simRegex); \n    let simulationPath; \n\n    if(matches && matches.length > 0 && typeof(matches[2]) != 'undefined') {\n      simulationPath = matches[2]; \n    } \n\n    // Checks if the about query param is active, and initializes the store with that param. \n    let params = getQueryParamsFromLocation(props.location)\n\n    // Creates the store.\n    // This is then provided to the rest of the app. \n    this.store = createStoreFromPath(simulationPath, params.about); \n  }\n\n  render() {\n    let {location, history} = this.props; \n    return(\n      <Provider store={this.store}>\n          <div className='app'>\n            <Route path='/(selector|transition|simulation|about)' component={NavResolver}></Route>\n            <AboutResolver location={location} history={history}/>\n            <PageResolver location={location} history={history}/>\n            <BackgroundResolver location={location}/>\n          </div>\n      </Provider>\n    )\n  }\n}\n\nexport default withRouter(ReduxWrapper)","import React from 'react';\nimport {HashRouter} from 'react-router-dom';\nimport ReduxWrapper from './pages/reduxWrapper.js';\nimport './styles/index.sass';\n\nfunction App() {\n  return (\n    <HashRouter>\n      <ReduxWrapper/>\n    </HashRouter>\n  );\n}\n\n\nexport default App;\n\n// Root.propTypes = {\n//   store: PropTypes.object.isRequired\n// }\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n// 'use strict'\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}