(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(e,t,n){},135:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),a=n(31),s=n.n(a),r=n(138),c=n(10),l=n(8),h=n(32),u=n(49),d=n.n(u),p=n(50),m=n.n(p),f=n(51),v=n.n(f),y=n(52),g=n.n(y),b=n(53),w=n.n(b),x=n(54),k=n.n(x),S=n(55),E=n.n(S),C=n(56),O=n.n(C),P=n(57),j=n.n(P),N=n(58),D=n.n(N),B=n(59),M=n.n(B),T=n(60),F=n.n(T),I=n(61),R=n.n(I),W=n(62),V=n.n(W),L=n(63),A=n.n(L);function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var q=i.a.createElement("title",null,"sim-icons"),_=i.a.createElement("g",{id:"traffic-icon"},i.a.createElement("rect",{x:-16.68,y:52,width:388,height:290,transform:"translate(374.32 19.68) rotate(90)"}));n.p;function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var z=i.a.createElement("title",null,"sim-icons"),U=i.a.createElement("g",{id:"colony-icon"},i.a.createElement("polygon",{points:"0 0 0 122.78 239.35 194 0 265.22 0 388 353.39 265.22 353.39 194 353.39 122.78 0 0"}));n.p;function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var G=i.a.createElement("title",null,"sim-icons"),Q=i.a.createElement("g",{id:"school-icon"},i.a.createElement("ellipse",{cx:176.82,cy:194.27,rx:163.5,ry:194}));n.p;function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var J=i.a.createElement("title",null,"sim-icons"),Z=i.a.createElement("g",{id:"crowds-icon"},i.a.createElement("polygon",{points:"353.39 387.82 -0.61 188.55 -0.61 -0.28 353.39 198.99 353.39 387.82"}));n.p;function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var ee=i.a.createElement("title",null,"sim-icons"),te=i.a.createElement("rect",{x:51.94,y:70.85,width:248.9,height:248.9,transform:"translate(-86.43 181.93) rotate(-45)"}),ne=(n.p,{description:"Ever wonder what causes a traffic jam? Why fish swim in schools? How crowds move through cities? \n     <div class='break'></div>\n     Surprisingly, these systems are all connected \u2013 they are all examples of <em>emergence</em>, \n     where a complex pattern occurs through simple interactions between parts.<div class='break'></div>\n     This project explores the way emergent systems form throughout our world, looking at these systems\n     through 5 interactive simulations revolving around seemingly unrelated questions.",systems:[{path:"traffic",nextButtonTitle:"Traffic",systemPart:"Cars",systemWhole:"Traffic",coverImage:{src:d.a,alt:"Car"},previewVideo:{src:M.a},question:"What causes traffic to form?",instructions:"Click your cursor to create a slowdown and see how drivers respond.",instructionPng:k.a,interactions:["Each car is in a rush and staying as close to the next car as possible, ignoring the cars behind it.","Because of this, if one car slows down, there is a chain reaction where each car reacts to the one in front.","Each car adjusts its speed, but the slowdown stays in place, sometimes even moving traveling backwards\n        after the intial cars have sped on."],color:"#a7a7b7",icon:function(e){return i.a.createElement("svg",H({viewBox:"0 0 353.71 388.3"},e),q,_)}},{path:"colony",nextButtonTitle:"Bats",systemPart:"Bats",systemWhole:"Colony",coverImage:{src:m.a,alt:"Bat"},previewVideo:{src:F.a},question:"Why do bats coordinate their flight?",instructions:"Click on the walls of the cave to adjust the height of the opening.",instructionPng:E.a,interactions:["Each bat has highly powerful sensing abilities for tracking the distance between it and its neighbors.","By adjusting its speed and position, each bat maintains a precise amount of space from its neighbors, \n        even the ones behind it.","This allows the bats to fly as a unit, rapidly modifying their distance for the amount of available space: \n        and never getting into traffic jams or collisions."],color:"#F7A558",icon:function(e){return i.a.createElement("svg",Y({viewBox:"0 0 353.71 388.3"},e),z,U)}},{path:"school",nextButtonTitle:"Fish",systemPart:"Fish",systemWhole:"School",coverImage:{src:v.a,alt:"Fish"},previewVideo:{src:R.a},question:"How do fish avoid predators?",instructions:"Move your cursor to guide a predator towards the school of fish.",instructionPng:O.a,interactions:["Each fish is only aware of its close neighbors. It turns and slows to match their speed and angle.","When a predator attacks, only the closest fish can actually see and respond to the predator.","When these fish turn, the other fish respond to their motion, and the whole school moves as a unit \n        overwhelming the predator."],color:"#579CC6",icon:function(e){return i.a.createElement("svg",X({viewBox:"0 0 353.71 388.3"},e),G,Q)}},{path:"crowds",nextButtonTitle:"Crowds",systemPart:"Person",systemWhole:"Crowds",coverImage:{src:g.a,alt:"crowd_crossing_street"},previewVideo:{src:V.a},question:"How do crowds interact in cities?",instructions:"Click the buttons to change the number of people and affect the interactions of the crowds.",instructionPng:j.a,interactions:["Each person travels at a similar pace towards their destination.","As they travel, they colliding with neighbors and people traveling in opposite directions.","As the crowds pass, lanes of efficient motion naturally form and grow."],color:"#e5aabf",icon:function(e){return i.a.createElement("svg",$({viewBox:"0 0 353.71 388.3"},e),J,Z)}},{path:"mold",nextButtonTitle:"Mold",systemPart:"Cell",systemWhole:"Mold",coverImage:{src:w.a,alt:"mold_colony"},previewVideo:{src:A.a},question:"How can mold build a network?",instructions:"Click your cursor to place 5 food sources, guiding the mold network",instructionPng:D.a,interactions:["Each mold cell is brainless, but in the presence of food, they release pheremones.","Other mold cells are attracted to those pheremones - when they get close, they strengthen the pheremone trail.","As the trails refine, the mold cells build an efficient network between multiple food sources."],color:"#709b70",icon:function(e){return i.a.createElement("svg",K({id:"mold-icon",viewBox:"0 0 353.71 388.3"},e),ee,te)}}]});function oe(e){var t=this,n=e.startValue,o=void 0===n?0:n,i=e.endValue,a=void 0===i?1:i,s=e.durationMs,r=void 0===s?200:s,c=e.fps,l=void 0===c?60:c,h=e.position,u=void 0===h?{x:0,y:0}:h,d=e.onStep,p=e.onComplete,m=void 0===p?function(e){}:p,f=e.data,v=void 0===f?{}:f;this.data=v,this.position=u,this.isDone=!1,this.stepCount=Math.floor(r/(1e3/l)),this.valueIncrement=(a-o)/this.stepCount,this.sinValueIncrement=Math.PI/this.stepCount,this.currentValue=o,this.currentSinValue=0,this.step=function(){t.currentSinValue+=t.sinValueIncrement,t.currentValue+=t.valueIncrement*Math.pow(Math.sin(t.currentSinValue),2)*2;for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.currentSinValue<Math.PI?d.apply(void 0,[t.currentValue].concat(n)):(d.apply(void 0,[a].concat(n)),m(),t.isDone=!0)}}function ie(e,t){if(t<0||t>=e.length)throw new RangeError("Array index is out of range.");return e[t<e.length-1?t+1:0]}function ae(e,t){if(t<0||t>=e.length)throw new RangeError("Array index is out of range.");return e[t>0?t-1:e.length-1]}function se(){return"rgb(".concat(255*Math.random()|0,", ").concat(255*Math.random()|0,", ").concat(255*Math.random()|0,")")}function re(e){return e*(Math.PI/180)}function ce(e,t){return e>t?t:e}function le(e,t){return e<t?t:e}function he(e){return Math.pow(e,2)}function ue(){var e=this;this.minX=1e5,this.maxX=-1e5,this.minY=1e5,this.maxY=-1e5,this.reset=function(t){e.minX=1e5,e.maxX=-1e5,e.minY=1e5,e.maxY=-1e5},this.update=function(t){t.x>e.maxX&&(e.maxX=t.x),t.x<e.minX&&(e.minX=t.x),t.y>e.maxY&&(e.maxY=t.y),t.y<e.minY&&(e.minY=t.y)},this.draw=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.strokeRect(e.minX-n,e.minY-n,e.maxX-e.minX+2*n,e.maxY-e.minY+2*n)},this.clear=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.clearRect(e.minX-n,e.minY-n,e.maxX-e.minX+2*n,e.maxY-e.minY+2*n)}}function de(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;if(!e||"undefined"==typeof e.moveTo)throw new Error("Context is undefined");e.moveTo(t.x,t.y);for(var a=(n.x-t.x)/o,s=(n.y-t.y)/o,r=1;r<=o;r++){var c=t.x+a*r+(Math.random()-.5)*i,l=t.y+s*r+(Math.random()-.5)*i;e.lineTo(c,l)}}var pe=ne.systems.map(function(e,t){return e.index=t,e}),me=pe.map(function(e){return e.path});function fe(e){if(e<0||e>pe.length)throw new RangeError("State index is out of range.");return{prevSystem:ae(pe,e),curSystem:pe[e],nextSystem:ie(pe,e),wheelIndex:e}}function ve(e){var t=e.curSystem.index,n=t>0?t-1:pe.length-1;return Object(l.a)({},e,fe(n))}function ye(e){var t=e.curSystem.index,n=t<pe.length-1?t+1:0;return Object(l.a)({},e,fe(n))}function ge(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<me.length;n++)if(me[n]===t)return Object(l.a)({},e,fe(n));return e}var be={prevLocation:"/about",prevWheelIndex:-1,wheelIndex:0,lastChange:Date.now()},we=Object(h.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEXT_SYSTEM":return ye(e);case"PREV_SYSTEM":return ve(e);case"SYSTEM_FROM_PATH":return ge(e,t.path);case"SCROLL_CHANGE":return Object(l.a)({},e,{pageHasScrolled:t.pageHasScrolled});case"WHEEL_UP":return Object(l.a)({},ve(e),{wheelIndex:e.wheelIndex-1,prevWheelIndex:e.wheelIndex,lastChange:Date.now()});case"WHEEL_DOWN":return Object(l.a)({},ye(e),{wheelIndex:e.wheelIndex+1,prevWheelIndex:e.wheelIndex,lastChange:Date.now()});case"SET_PREV_LOCATION":return Object(l.a)({},e,{prevLocation:t.prevLocation});default:return e}},ge(be,"traffic")),xe=n(2),ke=n(3),Se=n(6),Ee=n(4),Ce=n(5),Oe=n(139),Pe=n(136);function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var Ne=i.a.createElement("line",{className:"horizontal",x1:21.95,y1:6.8,x2:.76,y2:6.8}),De=i.a.createElement("polyline",{className:"triangle",points:"8.19 0.38 0.76 6.8 8.19 13.23"}),Be=function(e){return i.a.createElement("svg",je({className:"small-arrow",viewBox:"0 0 21.95 13.6"},e),Ne,De)},Me=(n.p,n(14)),Te=n.n(Me),Fe=n(13),Ie=n.n(Fe),Re=function(e){function t(e){var n;return Object(xe.a)(this,t),(n=Object(Se.a)(this,Object(Ee.a)(t).call(this,e))).handleScroll=function(e){window.scrollY<=1?n.setState(function(e,t){if(e.hasScrolled)return{hasScrolled:!1}}):n.setState(function(e,t){if(!e.hasScrolled)return{hasScrolled:!0}})},n.defineRoutes=function(){var e,t,o=n.props,i=o.location,a=o.prevLocation;i&&(e="/about"===i.pathname,t="/mobile"===i.pathname,n.pageIsSimulation="simulation"===i.pathname.split("/")[1],n.pageIsTransition="transition"===i.pathname.split("/")[1],n.pageIsSelector="/selector"===i.pathname),n.titleLinkDestination="/selector",n.aboutLinkDestination="/about",e&&a&&"/about"!==a?n.aboutLinkDestination=a:e&&(n.aboutLinkDestination="/selector"),n.pageIsSelector?n.titleLinkDestination="/selector":t&&(n.titleLinkDestination="/mobile")},n.state={hasScrolled:!1},n.throttledHandleScroll=Te()(n.handleScroll,100),n}return Object(Ce.a)(t,e),Object(ke.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.throttledHandleScroll)}},{key:"componentWillUnmount",value:function(){this.props.setHasScrolled(!1),window.removeEventListener("scroll",this.throttledHandleScroll)}},{key:"render",value:function(){return this.defineRoutes(),i.a.createElement("nav",{className:Ie()("navbar","".concat(this.props.location.pathname.split("/")[1]||"intro","-page"),{scrolled:this.state.hasScrolled||this.props.pageHasScrolled,inactive:this.pageIsTransition})},i.a.createElement(Pe.a,{className:"title-link unbuttoned",to:this.titleLinkDestination,onClick:function(e){return window.scrollTo(0,0)},replace:this.pageIsSelector},i.a.createElement("div",{className:Ie()("link-inner",{active:this.pageIsSimulation})},i.a.createElement("div",null,i.a.createElement(Be,null)),i.a.createElement("div",null,"Part To Whole"))),i.a.createElement(Pe.a,{className:"about-link unbuttoned",to:this.aboutLinkDestination},i.a.createElement("div",{className:"link-inner"},i.a.createElement("div",null,"Go Back"),i.a.createElement("div",null,"About"))))}}]),t}(o.Component),We=Object(c.b)(function(e){return{pageHasScrolled:e.pageHasScrolled,prevLocation:e.prevLocation}},function(e,t){return{setHasScrolled:function(t){e({type:"SCROLL_CHANGE",pageHasScrolled:t})}}})(Re),Ve=n(81),Le=n(140),Ae=n(137),He=n(15),qe=function(e){function t(){var e;return Object(xe.a)(this,t),(e=Object(Se.a)(this,Object(Ee.a)(t).call(this))).handleWindowSizeChange=function(){e.setState({width:window.innerWidth,resize:!0})},e.state={width:window.innerWidth},e.throttleResize=Te()(e.handleWindowSizeChange,333),e}return Object(Ce.a)(t,e),Object(ke.a)(t,[{key:"componentWillMount",value:function(){window.addEventListener("resize",this.throttleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.throttleResize)}},{key:"render",value:function(){var e=this.props.location,t=this.state.width,n="/mobile"===e.pathname,o=t<480;return"/about"===e.pathname?null:!n&&o?i.a.createElement(Le.a,null,i.a.createElement(Ae.a,{from:"/",to:"/mobile"}),i.a.createElement(Ae.a,{from:"/transition",to:"/mobile"}),i.a.createElement(Ae.a,{from:"/selector",to:"/mobile"}),i.a.createElement(Ae.a,{from:"/simulation",to:"/mobile"})):n&&!o?i.a.createElement(Ae.a,{from:"/mobile",to:"/selector"}):n&&o?null:n||o?void 0:null}}]),t}(o.Component),_e=Object(Oe.a)(qe),Ye=n(24),ze=n.n(Ye),Ue=n(18),Xe=function(e){function t(e){return Object(xe.a)(this,t),Object(Se.a)(this,Object(Ee.a)(t).call(this,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},e),o=Object.assign({},t);return Object.assign(n,o)}(e)))}return Object(Ce.a)(t,e),t}(function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(xe.a)(this,e),this.updateTransitions=function(){t.transitions.length>0&&(t.transitions=t.transitions.filter(function(e){return e.step(),!e.isDone&&e}),t.hasChanged=!0),t.triangles=t.getTrianglesPoints()};var o=n.sides,i=void 0===o?3:o,a=n.center,s=void 0===a?{x:0,y:0}:a,r=n.diameter,c=void 0===r?50:r,l=n.rotation,h=void 0===l?0:l,u=n.stroke,d=void 0!==u&&u,p=n.strokeStyle,m=n.strokeWidth,f=void 0===m?1:m,v=n.fill,y=void 0===v||v,g=(n.fillStyle,n.hasNoise),b=void 0!==g&&g,w=n.colors,x=void 0===w?[]:w,k=n.amp,S=void 0===k?20:k,E=n.freq,C=void 0===E?.025:E,O=n.smoothness,P=void 0===O?50:O;if(this.hasNoise=b,this.sides=i,this.diameter=c,this.center=s,this.stroke=d,this.lineWidth=f,this.fill=y,this.strokeStyle=p,this.colors=x,this.rotation=h,this.amp=S,this.freq=C,this.smoothness=P,this.fill)for(;this.colors.length<this.sides;)this.colors.push(se());this.cursor={x:0,y:0},this.transitions=[],this.magnitude=0,this.hitIndex=-1,this.hitBufferColors=this.generateHitBufferColors(),this.triangles=this.getTrianglesPoints(),this.hasChanged=!0}return Object(ke.a)(e,[{key:"generateHitBufferColors",value:function(){return Object(Ue.a)(Array(this.sides)).map(function(e){return se()})}},{key:"rotateBy",value:function(e){this.rotation+=e,this.triangles=this.getTrianglesPoints(),this.hasChanged=!0}},{key:"rotateTo",value:function(e){this.rotation=e,this.triangles=this.getTrianglesPoints(),this.hasChanged=!0}},{key:"rotateToEase",value:function(e,t,n){var o=this,i=new oe({startValue:this.rotation,endValue:e,durationMs:t,fps:60,onStep:function(e){o.rotation=e},onComplete:n});this.transitions.push(i)}},{key:"easeDiameter",value:function(e,t,n,o){var i=this,a=new oe({startValue:e,endValue:t,durationMs:n,fps:60,onStep:function(e){i.diameter=e},onComplete:o});this.transitions.push(a)}},{key:"easeAngle",value:function(e,t,n,o){var i=this,a=new oe({startValue:e,endValue:t,durationMs:n,fps:60,onStep:function(e){i.rotation=e},onComplete:o});this.transitions.push(a)}},{key:"easeAngleTo",value:function(e,t,n){var o=this,i=new oe({startValue:this.rotation,endValue:e,durationMs:t,fps:60,onStep:function(e){o.rotation=e},onComplete:n});this.transitions.push(i)}},{key:"easeSides",value:function(e,t,n,o){var i=this,a=new oe({startValue:e,endValue:t,durationMs:n,fps:60,onStep:function(e){i.sides=e},onComplete:o});this.transitions.push(a)}},{key:"easeOpacity",value:function(e,t,n,o){var i=this,a=new oe({startValue:e,endValue:t,durationMs:n,fps:60,onStep:function(e){i.globalAlpha=e},onComplete:o});this.transitions.push(a)}},{key:"easeStrokeBrightness",value:function(e,t,n,o){var i=this,a=new oe({startValue:e,endValue:t,durationMs:n,fps:60,onStep:function(e){i.strokeStyle="rgb(".concat(e,", ").concat(e,", ").concat(e,")")},onComplete:o});this.transitions.push(a)}},{key:"getTrianglesPoints",value:function(){for(var e,t,n,o,i,a=[],s=0;s<this.sides;s+=1)t=2*(s+1)*Math.PI/this.sides-re(this.rotation),o=2*(s+2)*Math.PI/this.sides-re(this.rotation),e={x:this.center.x+this.diameter*Math.cos(t),y:this.center.y+this.diameter*Math.sin(t)},n={x:this.center.x+this.diameter*Math.cos(o),y:this.center.y+this.diameter*Math.sin(o)},i=[this.center,e,n],a.push(i);return a}},{key:"resize",value:function(e){var t=this;return this.center={x:this.center.x*e.x,y:this.center.y*e.y},this.diameter*=e.x,this.triangles=this.getTrianglesPoints(),function(e,n,o){t.triangles.map(function(n,o){e.beginPath(),e.moveTo(n[0].x,n[0].y),e.fillStyle=t.colors[o],e.lineTo(n[1].x,n[1].y),e.lineTo(n[2].x,n[2].y),e.fill()})}}},{key:"update",value:function(){this.updateTransitions()}},{key:"draw",value:function(e,t,n){var o=this;if(this.strokeStyle&&(e.strokeStyle=this.strokeStyle),this.lineWidth&&(e.lineWidth=this.lineWidth),this.globalAlpha&&(e.globalAlpha=this.globalAlpha),this.hasNoise&&t){var i=Math.hypot(t.x-this.center.x,t.y-this.center.y);this.magnitude=Math.round(i/1*2/50)}this.triangles.map(function(t,n){o.hasChanged=!1,e.beginPath(),o.magnitude,o.hasNoise?(de(e,t[0],t[1],5,o.magnitude*o.amp),de(e,t[1],t[2],5,o.magnitude*o.amp),e.lineTo(t[0].x,t[0].y),o.hasChanged=!0):(e.moveTo(t[0].x,t[0].y),e.fillStyle=o.colors[n],e.lineTo(t[1].x,t[1].y),e.lineTo(t[2].x,t[2].y)),n===o.hitIndex&&(e.lineTo(t[1].x,t[1].y),e.lineTo(t[2].x,t[2].y)),o.stroke&&e.stroke(),o.fill&&e.fill()})}},{key:"shouldDraw",get:function(){return this.hasChanged}}]),e}()),Ge=function(e){function t(e){var n;return Object(xe.a)(this,t),(n=Object(Se.a)(this,Object(Ee.a)(t).call(this,e))).sizeCanvasRender=function(){n.dpr=window.devicePixelRatio||1,n.canvas.width=n.$canvas.width()*n.dpr,n.canvas.height=n.$canvas.height()*n.dpr,n.ctx=n.canvas.getContext("2d"),n.ctx.scale(n.dpr,n.dpr)},n.canvasRef=i.a.createRef(),n.canvas=void 0,n.ctx=void 0,n.hoistCanvas=e.hoistCanvas||function(){},n}return Object(Ce.a)(t,e),Object(ke.a)(t,[{key:"componentDidMount",value:function(){this.canvas=this.canvasRef.current,this.$canvas=ze()(this.canvas),this.sizeCanvasRender(),this.hoistCanvas(this.canvas,this.ctx)}},{key:"render",value:function(){return i.a.createElement("canvas",{ref:this.canvasRef,className:"canvas-base"})}}]),t}(o.PureComponent);window.cout=function(e){if(Math.round(Math.random()*e)===e){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];(t=console).log.apply(t,o)}};var Qe=function(){function e(t){var n=this;Object(xe.a)(this,e),this.loop=function(){n.rafId=requestAnimationFrame(n.loop),n.now=Date.now(),n.elapsed=n.now-n.then,n.ticker+=n.increment,n.elapsed>n.fpsInterval&&(n.then=n.now-n.elapsed%n.fpsInterval,n.onStep(n.ticker))};var o=t.fps;this.fps=o,this.startLoop(),this.onStep=function(){}}return Object(ke.a)(e,[{key:"startLoop",value:function(){this.fpsInterval=1e3/this.fps,this.then=Date.now(),this.startTime=this.then,this.ticker=0,this.increment=1,this.loop()}},{key:"stopLoop",value:function(){cancelAnimationFrame(this.rafId)}},{key:"changeFps",value:function(e){this.fps=e,this.stopLoop(),this.startLoop()}}]),e}(),$e=function(e){function t(e){var n;return Object(xe.a)(this,t),(n=Object(Se.a)(this,Object(Ee.a)(t).call(this,e))).state={width:void 0,height:void 0,mounted:!1},n.mousePos=e.mousePos,n.pentagonRef=i.a.createRef(),n.rafController=new Qe({fps:60}),n}return Object(Ce.a)(t,e),Object(ke.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.pentagonRef){this.pentagon=this.pentagonRef.current,this.width=ze()(this.pentagon).width(),this.height=ze()(this.pentagon).height(),this.center={x:this.width/2,y:this.height/2},this.wheelIndex=0;var t={center:this.center,diameter:this.width/2-5,rotation:18,sides:5,colors:[],stroke:!0,fill:!1,strokeStyle:"#333",strokeWidth:1,fillStyle:"none",hasNoise:!1,amp:10,freq:.025};this.pentagonController=new Xe(t),this.rafController.onStep=function(t){var n,o;e.ctx&&(e.pentagonController.update(),e.pentagonController.shouldDraw&&(e.ctx.clearRect(0,0,e.width,e.height),e.pentagonController.draw(e.ctx,(n=e.mousePos,o=e.canvasRect,{x:n.x-o.left,y:n.y-o.top}),t)))};this.pentagonController.easeOpacity(0,1,2997),this.pentagonController.easeDiameter(0,this.width/2-5,2997),this.pentagonController.easeSides(2,5,2997),this.setState({width:this.width,height:this.height,mounted:!0})}}},{key:"componentWillUnmount",value:function(){this.rafController.stopLoop()}},{key:"componentDidUpdate",value:function(){switch(this.props.stateIndex){case 0:break;case 1:this.pentagonController.easeAngleTo(36,4995);break;case 2:case 3:case 6:break;case 8:this.rafController.stopLoop()}}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"pentagon-container",ref:this.pentagonRef},i.a.createElement("div",{className:"pentagon-inner"},this.state.width&&this.state.height&&i.a.createElement(Ge,{hoistCanvas:function(t,n){e.canvas=t,e.ctx=n,e.canvasRect=e.canvas.getBoundingClientRect()}})))}}]),t}(o.Component),Je=n(19),Ze=n.n(Je),Ke=n(23),et=n(22),tt=n.n(et),nt=(o.Component,function(e){function t(e){var n;return Object(xe.a)(this,t),(n=Object(Se.a)(this,Object(Ee.a)(t).call(this,e))).defaultStyle={transition:"opacity ".concat(n.props.duration,"ms ease-in-out ").concat(n.props.delay||0,"ms"),opacity:0},n.transitionStyles={entering:{opacity:0,pointerEvents:"none"},entered:{opacity:1,pointerEvents:"all"},exiting:{opacity:1,pointerEvents:"all"},exited:{opacity:0,pointerEvents:"none"}},n}return Object(Ce.a)(t,e),Object(ke.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.duration,a=void 0===o?333:o,s=t.shouldRender,r=t.shouldUpdate;return i.a.createElement(tt.a,{key:r,in:s,timeout:a,className:"fade-wrapper"},function(t){return i.a.createElement("span",{className:e.props.className,style:Object(l.a)({},e.defaultStyle,e.transitionStyles[t])},n)})}}]),t}(o.Component));function ot(){return(ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var it=i.a.createElement("polygon",{className:"p1",points:"52.18 227.74 199.82 227.19 125.81 126.47 52.18 227.74"}),at=i.a.createElement("polygon",{className:"p2",points:"5.59 87.7 52.18 227.74 125.81 126.47 5.59 87.7"}),st=i.a.createElement("polygon",{className:"p3",points:"199.82 227.19 245.73 86.81 125.81 126.47 199.82 227.19"}),rt=i.a.createElement("polygon",{className:"p4",points:"125.34 0 125.81 126.47 245.73 86.81 125.34 0"}),ct=i.a.createElement("polygon",{className:"p5",points:"125.34 0 5.59 87.7 125.81 126.47 125.34 0"}),lt=function(e){return i.a.createElement("svg",ot({className:"pentagon-icon",viewBox:"0 0 251.61 251.61"},e),it,at,st,rt,ct)},ht=(n.p,function(e){function t(e){var n;return Object(xe.a)(this,t),(n=Object(Se.a)(this,Object(Ee.a)(t).call(this,e))).onMouseMove=function(e){n.mousePos.x=e.clientX,n.mousePos.y=e.clientY},n.handleClick=function(){n.state.stateInterval>=5&&n.props.history.push("/selector")},n.state={mounted:!1,stateIndex:0},n.fadeDuration=666,n.mousePos={x:0,y:0},n}return Object(Ce.a)(t,e),Object(ke.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.stateInterval=setInterval(function(t){return e.setState(function(e){return{stateIndex:e.stateIndex+1}})},999),this.setState({mounted:!0})}},{key:"componentWillUnmount",value:function(){clearInterval(this.stateInterval)}},{key:"render",value:function(){for(var e=this,t=this.state.stateIndex,n=[],o=0;o<t;o++)n.push("state".concat(o));return t>8&&clearInterval(this.stateInterval),i.a.createElement("div",{className:Ie()("page-wrapper","intro-page",n),onMouseMove:this.onMouseMove},i.a.createElement("div",{className:"content"},i.a.createElement(nt,{className:"text-container",shouldRender:t>=6,duration:this.fadeDuration},i.a.createElement("h2",{className:"project-title"},"Part To Whole"),i.a.createElement("h4",null,"Exploring relationships between part and whole \u2013 and the emergent systems that form in our world \u2013 through 5 interactive questions.")),i.a.createElement("span",{className:"pentagon-wrapper"},i.a.createElement($e,{mousePos:this.mousePos,stateIndex:t})),i.a.createElement(nt,{className:"start-button-container",shouldRender:t>=6,duration:this.fadeDuration+666},i.a.createElement("button",{className:"start-button unbuttoned",onClick:function(t){return e.props.history.push("/selector")}},"Choose a question"))),i.a.createElement("span",{className:"bg-color"}),i.a.createElement("img",{className:"bg-texture",src:Ze.a,alt:"background_texture"}),i.a.createElement("span",{className:"bg-solid"}))}}]),t}(o.Component)),ut=Object(Oe.a)(ht),dt=[{header:"What is an Emergent System?",copy:"\n      An emergent system is one in which a number of simple parts interact, \n      creating a resulting pattern that is more complex than the individual elements.\n      When a snowflake forms from ice crystals, no one crystal has a plan for the entire structure.\n      But the simple molecular interactions between crystals results in a unique, complex form. \n    "},{header:"Why emergence?",copy:"\n      Emergence exists throughout our world, yet often goes unrecognized. Human society typically \n      tries to solve problems with a top-down approach, but emergence looks at ways problems can be \n      understood and solved through bottom-up organization.\n    "},{header:"What is bottom-up organization?",copy:"\n      Bottom-up organization is another way of describing Emergent Systems. It refers to the fact that there\n      is no leader in an Emergent System telling the other parts how to behave. This is opposed to the top-down\n      organization that human society takes as standard. With bottom up organization, the whole system responds \n      intelligently even when the individuals act according to simple rules. For example, in ant colonies, there\n      is no leader ant. The Queen ant is completely separate from the rest of the colony, and the actions of each\n      individual ant is only defined by their biological response to their neighbors .\n    "},{header:"What are other examples of Emergence?",copy:"\n      Examples include the layout of cities, the workings of the stock market, bee hives and ant nests, \n      the structure of galaxies, flocks of birds, plant leaves and the shapes of flowers.  \n    "}],pt=function(e){function t(e){var n;return Object(xe.a)(this,t),(n=Object(Se.a)(this,Object(Ee.a)(t).call(this,e))).handleScroll=function(e){e.target.scrollTop<=1?n.props.setHasScrolled(!1):n.props.setHasScrolled(!0)},n.state={mounted:!1},n}return Object(Ce.a)(t,e),Object(ke.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"page-wrapper about-page",onScroll:this.handleScroll},i.a.createElement("div",{className:"content"},i.a.createElement("div",{className:"page-header"},i.a.createElement("h2",{className:"site-title"},"About")),i.a.createElement("section",{className:"page-body"},i.a.createElement("div",{className:"description-text"},i.a.createElement("h2",{className:"project-description"},"Part to Whole, the name of this project, refers to a phenomenon called Emergence.",i.a.createElement("div",{className:"break"}),"Emergence is when a complex pattern (whole) arrises from simple interactions between components (part). The 5 systems in this project are all examples of emergent systems, which exist in everything from nature, science, art and philosophy.",i.a.createElement("div",{className:"break"}),"The hope of this project is that, by understanding some of the beauty, elegance and problem-solving power of emergent systems, we might learn to see problems of our world in a whole new way.")),i.a.createElement("div",{className:"project-text"},i.a.createElement("h4",{className:"section-header"},"The Project"),i.a.createElement("div",{className:"copy-block project"},i.a.createElement("h2",{className:"header"},"Designed and developed by",i.a.createElement("a",{href:"http://lucasbuilds.site",target:"_blank"}," Lucas Drummond ","\u2192")),i.a.createElement("p",{className:"copy"},"Created for a Senior Capstone Project, for the Communication Design Program at Washington University in St. Louis (2019)."),i.a.createElement("br",null),i.a.createElement("p",{className:"copy"},"Special thanks to Jonathan Hanahan, Craig Reynolds and Ian McGregor."))),i.a.createElement("div",{className:"question-text"},i.a.createElement("h4",{className:"section-header"},"Some Questions"),i.a.createElement("div",{className:"questions"},dt.map(function(e,t){return i.a.createElement(mt,Object.assign({},e,{index:t,key:"copy-".concat(t)}))})))),i.a.createElement("span",{className:"bg-color"}),i.a.createElement("img",{className:"bg-texture",src:Ze.a,alt:"background_texture"}),i.a.createElement("span",{className:"bg-solid"})))}}]),t}(o.Component);function mt(e){var t=e.header,n=e.copy,o=e.style,a=e.index;return i.a.createElement("div",{className:"copy-block",style:o},i.a.createElement("h4",{className:"index"},"Q",a),t&&i.a.createElement("h2",{className:"header"},"* ",t),i.a.createElement("p",{className:"copy"},n))}var ft=Object(c.b)(function(e){return{nextSystem:e.nextSystem,curSystem:e.curSystem,prevSystem:e.prevSystem,wheelIndex:e.wheelIndex,prevWheelIndex:e.prevWheelIndex,lastChange:e.lastChange}},function(e,t){return{setHasScrolled:function(t){e({type:"SCROLL_CHANGE",pageHasScrolled:t})}}})(pt),vt=n(83);function yt(){return(yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var gt=i.a.createElement("polygon",{className:"st0",points:"40.5,19.7 20.5,0.7 0.5,19.7 0.5,33.5 14.5,20.3 14.5,64.7 15.5,64.7 25.5,64.7 26.5,64.7 26.5,20.3 40.5,33.5 "}),bt=function(e){return i.a.createElement("svg",yt({className:"arrowIcon",x:"0px",y:"0px",viewBox:"0 0 41 65.2"},e),gt)};n.p;function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var xt=i.a.createElement("path",{className:"cls-1",d:"M155.39,1.5"}),kt=i.a.createElement("path",{className:"cls-2",d:"M0,.5C10.13.5,15.22,5.74,20.14,10.8s9.42,9.7,18.71,9.7,13.86-4.71,18.71-9.7S67.56.5,77.7.5,92.92,5.74,97.84,10.8s9.41,9.7,18.7,9.7,13.86-4.71,18.71-9.7S145.25.5,155.39.5s15.22,5.24,20.14,10.3,9.42,9.7,18.71,9.7,13.86-4.71,18.7-9.7S223,.5,233.09.5s15.22,5.24,20.14,10.3,9.42,9.7,18.71,9.7,13.86-4.71,18.71-9.7S300.66.5,310.79.5,326,5.74,330.94,10.8s9.42,9.7,18.71,9.7"}),St=function(e){return i.a.createElement("svg",wt({className:"squiggle",viewBox:"0 0 349.65 21"},e),xt,kt)},Et=(n.p,function(e){function t(e){var n;return Object(xe.a)(this,t),(n=Object(Se.a)(this,Object(Ee.a)(t).call(this,e))).state={offset:0},n.offset=0,n.duration=666,n.onHoverUp=function(e){return n.setState({offset:-1})},n.onHoverDown=function(e){return n.setState({offset:1})},n.onHoverOff=function(e){return n.setState({offset:0})},n}return Object(Ce.a)(t,e),Object(ke.a)(t,[{key:"render",value:function(){var e=this.props;return this.triAttributes=function(t){var n={fill:e.colors[t],cursor:"pointer"},o=function(e){},i=function(e){},a=e.curIndex+1<5?e.curIndex+1:0;return t===(e.curIndex-1>=0?e.curIndex-1:4)&&(o=e.onPrevClick,i=this.onHoverDown),t===e.curIndex&&(o=e.onCenterClick),t===a&&(o=e.onNextClick,i=this.onHoverUp),{style:n,onClick:o,onMouseEnter:i,onMouseLeave:this.onHoverOff}},this.pentStyles={transform:"rotate(".concat(-72*e.wheelIndex+54+this.state.offset,"deg)"),fill:"transparent",cursor:"pointer",transition:"transform ".concat(this.duration,"ms ease-in-out")},i.a.createElement(He.CSSTransition,{in:e.in,timeout:this.duration,className:"pentagon-icon",classNames:"pentagon-icon",style:this.pentStyles},i.a.createElement("span",null,i.a.createElement("svg",{viewBox:"0 0 251.61 251.61",style:{transition:this.pentStyles.transition}},i.a.createElement("polygon",Object.assign({},this.triAttributes(0),{points:"125.34 0 125.81 126.47 245.73 86.81 125.34 0"})),i.a.createElement("polygon",Object.assign({},this.triAttributes(1),{points:"199.82 227.19 245.73 86.81 125.81 126.47 199.82 227.19"})),i.a.createElement("polygon",Object.assign({},this.triAttributes(2),{points:"52.18 227.74 199.82 227.19 125.81 126.47 52.18 227.74"})),i.a.createElement("polygon",Object.assign({},this.triAttributes(3),{points:"5.59 87.7 52.18 227.74 125.81 126.47 5.59 87.7"})),i.a.createElement("polygon",Object.assign({},this.triAttributes(4),{points:"125.34 0 5.59 87.7 125.81 126.47 125.34 0"})))))}}]),t}(o.Component));function Ct(e){var t=e.component,n=e.color,o=void 0===n?"red":n,a=e.onClick,s=void 0===a?function(e){}:a,r=e.style,c=void 0===r?{}:r;return i.a.createElement("span",{className:"svg-outline-container",onClick:s,style:c},i.a.createElement(t,{className:"svg-outline",style:{stroke:o}}),i.a.createElement("span",{className:"fill-container"},i.a.createElement(t,{className:"svg-fill",style:{fill:o}})))}var Ot=function(e){function t(e){var n;return Object(xe.a)(this,t),(n=Object(Se.a)(this,Object(Ee.a)(t).call(this,e))).state={hovering:!1,hoverOff:!1},n}return Object(Ce.a)(t,e),Object(ke.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("button",{className:Ie()("button-wrapper","unbuttoned",this.props.className,{hovering:this.props.hovering||this.state.hovering,hoverOff:this.props.hoverOff||this.state.hoverOff}),onClick:this.props.onClick},i.a.createElement("div",{className:"active-area",onMouseEnter:function(t){return e.setState({hovering:!0})},onMouseLeave:function(t){return e.setState({hovering:!1})}}),this.props.children)}}]),t}(o.Component),Pt=function(e){function t(e){var n;return Object(xe.a)(this,t),(n=Object(Se.a)(this,Object(Ee.a)(t).call(this,e))).state={mounted:!1},n.fadeDuration=333,n.throttledPrevClick=Te()(e.onPrevClick,500),n.throttledNextClick=Te()(e.onNextClick,500),n}return Object(Ce.a)(t,e),Object(ke.a)(t,[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.curSystem,o=t.wheelIndex,a="/transition/".concat(n.path);return i.a.createElement("div",{className:"page-wrapper selector-page"},i.a.createElement("section",{className:"content"},i.a.createElement(Et,{wheelIndex:o,curIndex:n.index,colors:ne.systems.map(function(e){return e.color}),onPrevClick:this.throttledPrevClick,onCenterClick:function(t){return e.props.history.push(a)},onNextClick:this.throttledNextClick,in:this.state.mounted}),i.a.createElement(nt,{className:"arrows-container",duration:this.fadeDuration,shouldRender:this.state.mounted},i.a.createElement(Ot,{onClick:this.throttledPrevClick},i.a.createElement(Ct,{component:bt,color:"black"})),i.a.createElement(Ot,{onClick:this.throttledNextClick},i.a.createElement(Ct,{component:bt,color:"black",style:{transform:"rotate(180deg)"}}))),i.a.createElement(nt,{className:"squiggle-container",duration:this.fadeDuration,shouldRender:this.state.mounted},i.a.createElement(Ot,{onClick:function(t){return e.props.history.push(a)}},i.a.createElement(St,null))),i.a.createElement(nt,{className:"option-container",duration:this.fadeDuration,shouldRender:this.state.mounted},i.a.createElement(He.TransitionGroup,{component:null},i.a.createElement(He.CSSTransition,{key:n.path,timeout:{enter:450,exit:300},classNames:"rotate"},i.a.createElement(vt.a,{to:a,className:"option-inner"},i.a.createElement("h1",{className:"title"},n.question),i.a.createElement("span",{className:"subtitle"},i.a.createElement("h4",null,"system"),i.a.createElement("h3",{className:"index"},n.index+1,"/5"))))))))}}]),t}(o.Component),jt=Object(Oe.a)(Object(c.b)(function(e){return{nextSystem:e.nextSystem,curSystem:e.curSystem,prevSystem:e.prevSystem,wheelIndex:e.wheelIndex,prevWheelIndex:e.prevWheelIndex,lastChange:e.lastChange}},function(e,t){return{onPrevClick:function(t){e({type:"WHEEL_UP"})},onNextClick:function(t){e({type:"WHEEL_DOWN"})}}})(Pt)),Nt=function(e){function t(e){var n;return Object(xe.a)(this,t),(n=Object(Se.a)(this,Object(Ee.a)(t).call(this,e))).state={mounted:!1},n}return Object(Ce.a)(t,e),Object(ke.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timeout=setTimeout(function(){e.setState({mounted:!0})},1300)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this.props,t=e.curSystem,n=void 0===t?{}:t,o=(e.prevLocation,e.history),a=n.path,s=void 0===a?"traffic":a;return i.a.createElement("div",{className:"page-wrapper transition-page ".concat(s)},this.state.mounted&&"REPLACE"!==o.action&&i.a.createElement(Ae.a,{to:"/simulation/".concat(s)}))}}]),t}(o.Component),Dt=Nt=Object(Oe.a)(Object(c.b)(function(e){return{curSystem:e.curSystem,prevLocation:e.prevLocation}})(Nt));function Bt(e){var t=e.colors;return i.a.createElement("svg",{viewBox:"0 0 251.61 251.61",className:e.className},i.a.createElement("polygon",{style:{fill:t[0]},points:"125.34 0 125.81 126.47 245.73 86.81 125.34 0"}),i.a.createElement("polygon",{style:{fill:t[1]},points:"199.82 227.19 245.73 86.81 125.81 126.47 199.82 227.19"}),i.a.createElement("polygon",{style:{fill:t[2]},points:"52.18 227.74 199.82 227.19 125.81 126.47 52.18 227.74"}),i.a.createElement("polygon",{style:{fill:t[3]},points:"5.59 87.7 52.18 227.74 125.81 126.47 5.59 87.7"}),i.a.createElement("polygon",{style:{fill:t[4]},points:"125.34 0 5.59 87.7 125.81 126.47 125.34 0"}))}var Mt=n(7),Tt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(xe.a)(this,e);var n,o=t.simulationType,i=void 0===o?"traffic":o,a=t.count,s=void 0===a?40:a,r=t.bounds,c=t.maxSpeed,l=void 0===c?1:c,h=t.maxForce,u=void 0===h?1:h,d=t.maxDistance,p=void 0===d?1:d,m=t.minDistance,f=void 0===m?1:m,v=t.avoidDistance,y=void 0===v?80:v,g=t.arriveThreshold,b=void 0===g?20:g,w=t.mass,x=void 0===w?1:w,k=t.initFn,S=t.updateFn,E=t.clickFn,C=t.edgeBehavior,O=void 0===C?"bounce":C;this.state=i,this.bounds=r,this.initFn=k,this.updateFn=S,this.clickFn=E,this.avoidDistance=y,this.target=Mt.a.vec2(0,0),this.chaser=Mt.a.vec2(0,0),this.center=Mt.a.vec2(r.width/2,r.height/2),this.boidPool=[],this.otherBoidPool=[];for(var P=0;P<s;P++)(n=new Mt.a).edgeBehavior=O,n.position.x=r.width*Math.random(),n.position.y=r.height*Math.random(),n.velocity.x=Math.random()-.5,n.velocity.y=Math.random()-.5,n.maxSpeed=l,n.maxForce=u,n.avoidDistance=y,n.arriveThreshold=b,n.maxDistance=p,n.minDistance=f,n.mass=x,n.setBounds(r.width,r.height,r.x,r.y),this.boidPool.push(n);this.initFn&&this.initFn(this.boidPool,this.bounds,this.otherBoidPool)}return Object(ke.a)(e,[{key:"onClick",value:function(e){this.clickFn&&this.clickFn(e,this.boidPool,this.otherBoidPool,this.bounds)}},{key:"getUpdateFn",value:function(){var e=this;return this.updateFn?function(t){e.updateFn({boid:t,boidPool:e.boidPool,otherBoidPool:e.otherBoidPool,bounds:e.bounds,center:e.center,chaser:e.chaser})}:function(e){return e.wander().update()}}},{key:"updateOtherBoids",value:function(e){this.otherBoidPool=this.otherBoidPool.filter(function(t){return t.step?t.step(e):t.userData.step(e),!t.isDone&&t})}},{key:"updateBoidCount",value:function(e){if(this.boidPool.length>e)this.boidPool.splice(0,this.boidPool.length-e);else if(this.boidPool.length<e){for(var t,n=[],o=this.boidPool[0],i=0;i<e-this.boidPool.length;i++)(t=new Mt.a).edgeBehavior=o.edgeBehavior,t.position.x=this.bounds.width*Math.random(),t.position.y=this.bounds.height*Math.random(),t.velocity.x=Math.random()-.5,t.velocity.y=Math.random()-.5,t.maxSpeed=o.maxSpeed,t.maxForce=o.maxForce,t.mass=o.mass,t.avoidDistance=o.avoidDistance,t.arriveThreshold=o.arriveThreshold,t.maxDistance=o.maxDistance,t.minDistance=o.minDistance,t.setBounds(this.bounds.width,this.bounds.height,this.bounds.x,this.bounds.y),n.push(t);this.initFn&&this.initFn(n,this.bounds,this.otherBoidPool),this.boidPool=[].concat(Object(Ue.a)(this.boidPool),n)}}},{key:"updateTarget",value:function(e,t){this.target=Mt.a.vec2(e,t)}},{key:"updateChaser",value:function(e,t){this.chaser=Mt.a.vec2(e,t)}},{key:"getPos",value:function(e,t){return Mt.a.vec2(e,t)}},{key:"setBounds",value:function(e,t){this.bounds.width=e,this.bounds.height=t,this.boidPool.map(function(n){return n.setBounds(e,t)})}}]),e}(),Ft=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(xe.a)(this,e),this.updateBounds=function(e){t.bounds.width=e.width,t.bounds.height=e.height};var o=n.simulationType,i=n.color,a=n.strokeWidth,s=n.bounds,r=n.clearFrames,c=n.clickFn,l=n.updateFn,h=n.drawFn;this.mousePos={x:0,y:-10},this.initBoid(n),this.initialColor=i,this.color=i,this.strokeWidth=a,this.bounds=s,this.clearFrames=r,this.simulationType=o,this.clickFn=c,this.updateFn=l,this.drawFn=h,this.clickBuffer=[],this.drawBuffer=[],this.activeBounds=new ue,this.playing=!0}return Object(ke.a)(e,[{key:"initBoid",value:function(e){var t=e.maxSpeed,n=void 0===t?2:t,o=e.bounds,i=e.edgeBehavior,a=e.initFn;this.boid=new Mt.a,this.boid.position.x=this.mousePos.x,this.boid.position.y=this.mousePos.y,this.boid.maxSpeed=n,this.boid.velocity.x=1,this.boid.velocity.y=1,this.boid.edgeBehavior=i||"EDGE_NONE",a&&a(this.boid,o)}},{key:"pause",value:function(){var e=this;this.playing=!1,this.color="rgba(0, 0, 0, 0.3)",this.slowdown=new oe({startValue:100,endValue:0,durationMs:666,onStep:function(t){e.boid.position.x+=e.boid.velocity.x*(t/100),e.boid.position.y+=e.boid.velocity.y*(t/100)}})}},{key:"play",value:function(){this.color=this.initialColor,this.playing=!0}},{key:"onClick",value:function(e,t){this.clickBuffer.push(e),this.clickBuffer.length>5&&this.clickBuffer.shift(),this.clickFn&&this.clickFn(Object(l.a)({mousePos:e,clickBuffer:this.clickBuffer,drawBuffer:this.drawBuffer,bounds:this.bounds,boid:this.boid},t))}},{key:"clear",value:function(e){"colony"===this.simulationType&&(this.activeBounds.maxY=this.bounds.height),this.activeBounds.clear(e,35)}},{key:"update",value:function(e){var t=this;this.updateFn&&(this.updateFn({mousePos:this.mousePos,boid:this.boid,bounds:this.bounds}),this.activeBounds.update(this.boid.position)),this.drawBuffer.length>0&&(this.drawBuffer=this.drawBuffer.filter(function(n){return t.activeBounds.update(n.position),n.step(e),!n.isDone&&n}))}},{key:"draw",value:function(e){e.beginPath(),e.strokeStyle=this.color,e.lineWidth=this.strokeWidth,this.drawFn&&this.drawFn(e,this.boid,this.bounds)}}]),e}(),It=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(xe.a)(this,e);var n=t.x,o=void 0===n?0:n,i=t.y,a=void 0===i?0:i,s=t.width,r=t.height,c=t.boidSettings,l=t.cursorBoidSettings,h=t.simulationType,u=t.caveContainer;this.simulationType=h,this.caveContainer=u,this.bounds={x:o,y:a,width:s,height:r},this.activeBounds=new ue,this.createBoidPoolController(c),this.createCursorBoid(l)}return Object(ke.a)(e,[{key:"createBoidPoolController",value:function(e){e.isVisible&&(this.boidPoolController=new Tt(Object(l.a)({simulationType:this.simulationType,bounds:this.bounds},e)),this.boidSettings=e,this.clearBoidFrames=e.clearFrames,this.boidDrawFn=e.drawFn,this.clickbufferDrawFn=e.clickbufferDrawFn,this.drawActiveBounds=e.drawActiveBounds)}},{key:"createCursorBoid",value:function(e){e.isVisible&&(this.cursorController=new Ft(Object(l.a)({simulationType:this.simulationType,bounds:this.bounds},e)),this.clearCursorFrames=e.clearFrames,this.cursorVisible=e.cursorVisible,this.drawCursorBounds=e.drawActiveBounds)}},{key:"updateAndDrawCursor",value:function(e,t){this.cursorController.update(e);var n=this.cursorController.boid.position;this.boidPoolController.updateChaser(n.x,n.y),this.cursorController.mousePos=t,this.cursorController.draw(e)}},{key:"updateAndDrawBoids",value:function(e){var t=this,n=this.boidSettings;this.updateFn=this.boidPoolController.getUpdateFn(),e.lineWidth=n.strokeWidth,e.strokeStyle=n.strokeColor,e.fillStyle=n.fillColor,e.beginPath(),this.updateFn&&this.boidPoolController.boidPool.map(function(n){t.updateFn(n),t.activeBounds.update(n.position,20),t.boidDrawFn(e,n)}),n.stroke&&e.stroke(),n.fill&&e.fill()}},{key:"step",value:function(e,t){this.cursorController&&this.clearCursorFrames&&this.cursorController.clear(e,35),this.boidPoolController&&this.clearBoidFrames&&this.activeBounds.clear(e,35),this.cursorController&&(this.cursorController.activeBounds.reset(),this.updateAndDrawCursor(e,t)),this.boidPoolController&&(this.activeBounds.reset(),this.boidPoolController.updateOtherBoids(e),this.updateAndDrawBoids(e)),this.drawCursorBounds&&this.cursorController.activeBounds.draw(e,20),this.drawActiveBounds&&this.activeBounds.draw(e)}},{key:"onClick",value:function(e){this.cursorController&&this.cursorController.onClick(e,{caveContainer:this.caveContainer}),this.boidPoolController&&this.boidPoolController.onClick(e)}},{key:"handleCrowdClick",value:function(e){this.boidPoolController&&this.boidPoolController.updateBoidCount(e)}},{key:"resize",value:function(e){this.center={x:e.width/2,y:e.height/2},this.bounds.width=e.width,this.bounds.height=e.height,this.cursorBoidController&&this.cursorBoidController.updateBounds(e),this.boidPoolController&&this.boidPoolController.setBounds(this.bounds.width,this.bounds.height,this.bounds.x,this.bounds.y)}}]),e}(),Rt={rafSettings:{fps:60},simulationSettings:{simulationType:"traffic",cursorBoidSettings:{isVisible:!0,cursorVisible:!0,clearFrames:!0,color:"black",width:4,onClick:function(e){},ripple:!1},boidSettings:{isVisible:!0,clearFrames:!0,drawActiveBounds:!1,count:50,minSpeed:2,maxSpeed:5,shape:"line",color:"white",strokeWidth:2,drawFn:function(e,t){e.strokeRect(t.position.x,t.position.y,5,5)}}}},Wt=40,Vt={rafSettings:{fps:Wt},simulationSettings:{simulationType:"traffic",cursorBoidSettings:{isVisible:!0,cursorVisible:!0,clearFrames:!0,strokeWidth:4,maxSpeed:30,clickFn:function(e){var t=e.boid,n=e.drawBuffer,o=new oe({startValue:0,endValue:100,durationMs:666,fps:Wt,position:Object(l.a)({},t.position),onStep:function(e,n){var o=Object(l.a)({},t.position);n.strokeStyle="rgba(0, 0, 0, ".concat(1-e/100,")"),n.lineWidth=1.5,n.beginPath(),n.arc(o.x,o.y,e/100*25,0,2*Math.PI),n.stroke()}});n.push(o)},initFn:function(e){e.velocity.x=0,e.velocity.y=0,e.maxForce=10},updateFn:function(e){var t=e.mousePos,n=e.boid,o=e.bounds,i=qt(t,Lt,At,o.width);Math.abs(t.x-i)>o.width/5?n.position.x=-20:(n.position.x=i+2,n.velocity.x=0,n.arrive(Mt.a.vec2(i,t.y)).update())},drawFn:function(e,t,n){e.fillStyle="rgba(0, 0, 0, 0.2)",e.arc(t.position.x,t.position.y,6,0,2*Math.PI),e.fill()}},boidSettings:{isVisible:!0,clearFrames:!0,drawActiveBounds:!1,count:72,minDistance:80,maxSpeed:2,maxDistance:200,arriveThreshold:60,strokeWidth:.8,strokeColor:"white",edgeBehavior:"wrap",clickFn:function(e,t,n,o){var i=qt(e,Lt,At,o.width),a=new oe({startValue:0,endValue:100,durationMs:4e3,fps:Wt,position:{x:i,y:e.y},onStep:function(t,n){n.fillStyle="rgba(0, 0, 0, ".concat(.8-t/80,")"),n.lineWidth=1.5,n.beginPath(),n.arc(i+2,e.y+2,t/60*30,0,2*Math.PI),n.fill(),t>=20&&(n.fillStyle="rgba(0, 0, 0, ".concat(.8-(t-20)/80,")"),n.beginPath(),n.arc(i+2,e.y+2,(t-20)/80*30,0,2*Math.PI),n.fill()),t>=40&&(n.fillStyle="rgba(0, 0, 0, ".concat(.8-(t-40)/80,")"),n.beginPath(),n.arc(i+2,e.y+2,(t-40)/100*30,0,2*Math.PI),n.fill())}});n.push(a)},initFn:function(e,t){var n=t.width/2,o=t.height/e.length;e.map(function(e,t){var i=t%Lt+1;e.position.x=n-Ht/2+i*At,e.position.y=t*o,e.velocity.x=0,e.velocity.y=2,e.mass=1,e.maxForce=.1})},updateFn:function(e){var t=e.boid,n=e.boidPool,o=e.otherBoidPool,i=(e.chaser,e.bounds),a=(e.center,n);o.length>0&&(a=[].concat(Object(Ue.a)(n),Object(Ue.a)(o)));var s,r,c=t.position,l=a.filter(function(e){if(e!==t&&(s=e.position.x-c.x,Math.abs(s)<10))return t}),h=l.filter(function(e){if(e.position.y>c.y)return t}),u=1e5;0===h.length?(l.map(function(e){e.position.y<u&&(u=e.position.y,r=e)}),r={position:{x:r.position.x,y:r.position.y+i.height}}):h.map(function(e){Math.abs(e.position.y-c.y)<u&&(u=e.position.y-c.y,r=e)});r&&r.position.y-c.y<120?t.arrive(Mt.a.vec2(r.position.x,r.position.y)):t.velocity.y=ce(t.velocity.y*=1.05,t.maxSpeed);t.velocity.x=0,t.update()},drawFn:function(e,t){e.strokeRect(t.position.x,t.position.y,5,10)}}}},Lt=6,At=60,Ht=Lt*At;function qt(e,t,n,o){for(var i,a=o/2,s=a-Ht/2+t*n,r=1;r<=t;r++)i=a-Ht/2+r*n,Math.abs(i-e.x)<Math.abs(s-e.x)&&(s=i);return s}var _t=60,Yt={rafSettings:{fps:_t},simulationSettings:{simulationType:"colony",cursorBoidSettings:{isVisible:!0,clearFrames:!0,drawActiveBounds:!1,color:"white",initFn:function(e){e.position.y=0,e.maxSpeed=8,e.velocity.x=0,e.velocity.y=0,e.maxForce=10,e.arriveThreshold=20},updateFn:function(e){var t=e.mousePos,n=e.bounds,o=e.boid,i=n.width/2,a=le(Math.abs(n.height/2-t.y),50),s=n.height/2-a;o.position.x=i,o.velocity.x=0,o.arrive(Mt.a.vec2(i,s)).update()},drawFn:function(e,t,n){e.lineWidth=1,e.beginPath(),e.moveTo(t.position.x-20,t.position.y),e.lineTo(t.position.x+20,t.position.y),e.stroke(),e.beginPath(),e.moveTo(t.position.x-20,n.height-t.position.y),e.lineTo(t.position.x+20,n.height-t.position.y),e.stroke()},clickFn:function(e){var t=e.mousePos,n=e.boid,o=e.bounds,i=e.drawBuffer,a=e.caveContainer,s=new oe({startValue:0,endValue:100,durationMs:666,fps:_t,position:Object(l.a)({},n.position),onStep:function(e,t){var i=Object(l.a)({},n.position);t.strokeStyle="rgba(0, 0, 0, ".concat(1-e/100,")"),t.lineWidth=1.5,t.beginPath(),t.arc(i.x+2,o.height-i.y+2,e/100*25,0,2*Math.PI),t.stroke()}}),r=new oe({startValue:0,endValue:100,durationMs:666,fps:_t,position:Object(l.a)({},n.position),onStep:function(e,t){var o=Object(l.a)({},n.position);t.strokeStyle="rgba(0, 0, 80, ".concat(1-e/100,")"),t.lineWidth=1.5,t.beginPath(),t.arc(o.x+2,o.y+2,e/100*25,0,2*Math.PI),t.stroke()}});i.push(s,r);var c=t.y-o.height/2,h=le(Math.abs(c),50),u=ce(t.y,o.height/2-50),d=o.height/2-50,p=u/d,m=1-Math.round(100*p)+100;if(a){var f=a.children[0],v=a.children[1];f&&(f.style.transform="translateY(".concat(-h,"px)")),v&&(v.style.transform="translateY(".concat(h,"px)")),o.obstacleScale=.8*m}}},boidSettings:{isVisible:!0,clearFrames:!0,drawActiveBounds:!1,count:50,maxSpeed:5,minDistance:50,maxDistance:300,strokeColor:"black",strokeWidth:1,initFn:function(e,t,n){e.map(function(e){e.position.x=120*(Math.random()-.5)+t.width/4,e.position.y=t.height/2*Math.random()+t.height/4});var o=[{position:{x:t.width/5*0,y:t.height/2},step:function(e){},isDone:!1},{position:{x:t.width/2,y:t.height/2},step:function(e){},isDone:!1},{position:{x:t.width/5*5,y:t.height/2},step:function(e){},isDone:!1},{position:{x:t.width/2,y:t.height/2},step:function(e){},isDone:!1}];n.push.apply(n,o)},updateFn:function(e){var t=e.boid,n=e.otherBoidPool,o=e.boidPool,i=(e.chaser,e.bounds),a=(e.center,i.height/2.1);i.obstacleScale&&(a=i.height/2-i.height/2*(i.obstacleScale/100));var s={x:i.width/2,y:0},r={x:i.width/2,y:i.height},c=t.position.distanceSq(s),l=t.position.distanceSq(r);c<he(a)?t.flee(Mt.a.vec2(s.x,s.y)):l<he(a)?t.flee(Mt.a.vec2(r.x,r.y)):3===Math.round(3*Math.random())?t.followPath(n.map(function(e){return Mt.a.vec2(e.position.x,e.position.y)}),!1):t.flock(o);t.update()},drawFn:function(e,t){var n=t.position,o=t.velocity,i={x:n.x+3*o.y/3,y:n.y+3*o.x/3},a={x:n.x+3*o.x,y:n.y+3*o.y},s={x:n.x-3*o.y/3,y:n.y-3*o.x/3};e.beginPath(),e.moveTo(i.x,i.y),e.moveTo(i.x,i.y),e.lineTo(a.x,a.y),e.lineTo(s.x,s.y),e.stroke()},edgeBehavior:"bounce"}}};var zt={rafSettings:{fps:60},simulationSettings:{simulationType:"school",cursorBoidSettings:{isVisible:!0,cursorVisible:!0,clearFrames:!0,drawActiveBounds:!1,color:"black",fillColor:"black",strokeWidth:6,maxSpeed:3,initFn:function(e,t){e.arriveThreshold=200,e.position.x=t.width/2,e.position.y=t.height/2},updateFn:function(e){var t=e.mousePos,n=e.boid;n.position.distanceSq(t)<he(20)?(n.velocity.x*=.9,n.velocity.y*=.9,n.update()):n.seek(Mt.a.vec2(t.x,t.y)).update()},drawFn:function(e,t){e.beginPath();var n=3.3*t.velocity.x,o=3.3*t.velocity.y;e.moveTo(t.position.x-n,t.position.y-o),e.lineTo(t.position.x+n,t.position.y+o),e.stroke()}},boidSettings:{isVisible:!0,clearFrames:!0,drawActiveBounds:!1,count:50,minDistance:30,maxSpeed:3,maxDistance:80,avoidDistance:80,stroke:!1,fillColor:"white",strokeWidth:2,initFn:function(e,t){e.map(function(e){e.position.x=t.width/2*Math.random()+t.width/4,e.position.y=t.height/2*Math.random()+t.height/4})},updateFn:function(e){var t=e.boid,n=e.boidPool,o=e.chaser,i=e.bounds,a=e.center;t.position.distanceSq(o)<he(50)?t.flee(o).update():t.position.distanceSq(a)>he(.3*i.width)&&Math.round(3*Math.random())<=2?t.seek(a).update():t.flock(n).update()},drawFn:function(e,t){e.beginPath(),e.ellipse(t.position.x,t.position.y,2,1+Math.abs(3*t.velocity.y),t.velocity.angle+Math.PI/2,0,2*Math.PI),e.fill()}}}};var Ut={rafSettings:{fps:40},simulationSettings:{simulationType:"crowds",cursorBoidSettings:{isVisible:!0,cursorVisible:!0,clearFrames:!0,width:6,maxSpeed:3},boidSettings:{isVisible:!0,clearFrames:!0,drawActiveBounds:!1,count:20,maxSpeed:1.5,strokeWidth:1,mass:2,maxForce:50,minDistance:25,maxDistance:25,avoidDistance:80,arriveThreshold:80,initFn:function(e,t,n){var o=[{position:{x:t.width/3*1,y:t.height/3*1},step:function(e){},isDone:!1},{position:{x:t.width/3*2,y:t.height/3*1},step:function(e){},isDone:!1},{position:{x:t.width/3*2,y:t.height/3*2},step:function(e){},isDone:!1},{position:{x:t.width/3*1,y:t.height/3*2},step:function(e){},isDone:!1}];e.map(function(e,t){t%2===0?(e.position.x=o[0].position.x+30*(Math.random()-.5),e.position.y=o[0].position.y+30*(Math.random()-.5),e.followPath(o.map(function(e){return Mt.a.vec2(e.position.x,e.position.y)}),!0),e.userData.movingClockwise=!0):(e.position.x=o[3].position.x+30*(Math.random()-.5),e.position.y=o[3].position.y+30*(Math.random()-.5),e.followPath(o.map(function(e){return Mt.a.vec2(e.position.x,e.position.y)}).reverse(),!0),e.userData.movingClockwise=!1)}),n.push.apply(n,o)},updateFn:function(e){var t=e.boid,n=e.boidPool,o=e.otherBoidPool;e.chaser,e.bounds,e.center,n.filter(function(e){return e.userData.movingClockwise}),n.filter(function(e){return!e.userData.movingClockwise}),o[0].position.x,o[1].position.x,o[0].position.y,o[3].position.y,t.position;n.map(function(e){e!==t&&e.position.distanceSq(t.position)<he(14)&&t.flee(e.position)}),t.userData.movingClockwise?t.followPath(o.map(function(e){return Mt.a.vec2(e.position.x,e.position.y)}),!0):t.followPath(o.map(function(e){return Mt.a.vec2(e.position.x,e.position.y)}).reverse(),!0);t.update()},drawFn:function(e,t){e.beginPath(),t.userData.movingClockwise?e.fillStyle="#555":e.fillStyle="#eee";e.ellipse(t.position.x,t.position.y,4,4,t.velocity.angle+Math.PI/2,0,2*Math.PI),e.fill()}}}};var Xt=20,Gt={rafSettings:{fps:Xt},simulationSettings:{simulationType:"mold",cursorBoidSettings:{isVisible:!0,cursorVisible:!0,clearFrames:!0,width:4,maxSpeed:30,clickFn:function(e){var t=e.mousePos,n=e.drawBuffer,o=new oe({startValue:0,endValue:100,durationMs:666,fps:Xt,position:t,onStep:function(e,n){n.strokeStyle="rgba(0, 0, 0, ".concat(1-e/100,")"),n.lineWidth=1,n.beginPath(),n.arc(t.x,t.y,e/100*25,0,2*Math.PI),n.stroke()}});n.push(o)},initFn:function(e){e.maxSpeed=30,e.velocity.x=0,e.velocity.y=0,e.maxForce=10},updateFn:function(e){var t=e.mousePos,n=e.boid;e.bounds;n.position.x=n.position.x+(t.x-n.position.x)/1.5,n.position.y=n.position.y+(t.y-n.position.y)/1.5},drawFn:function(e,t,n){e.fillStyle="rgba(0, 0, 0, 0.1)",e.arc(t.position.x,t.position.y,6,0,2*Math.PI),e.fill()}},boidSettings:{isVisible:!0,clearFrames:!0,drawActiveBounds:!1,count:100,maxSpeed:1,minDistance:50,maxDistance:200,strokeColor:"white",strokeWidth:1,arriveThreshold:80,updateFn:function(e){var t=e.boid,n=e.otherBoidPool,o=e.boidPool,i=(e.chaser,e.bounds,e.center,!1);n.length>0?(t.userData.neighborPos=[],n.filter(function(e){return t.position.distanceSq(e.position)<he(1.2*e.userData.pheremoneDist)}).map(function(e){t.position.distanceSq(e.position)<he(e.userData.pheremoneDist)?(t.flee(Mt.a.vec2(e.position.x,e.position.y)),t.userData.pheremoneDist=.9*e.userData.pheremoneDist,t.userData.neighborPos.push(e.position),i=!0):t.seek(Mt.a.vec2(e.position.x,e.position.y))}),o.filter(function(e){return e.userData.pheremoneDist>0}).filter(function(e){return t.position.distanceSq(e.position)<he(1.2*e.userData.pheremoneDist)}).map(function(e){e!==t&&(t.position.distanceSq(e.position)<he(e.userData.pheremoneDist)?(t.flee(Mt.a.vec2(e.position.x,e.position.y)),t.userData.pheremoneDist=.9*e.userData.pheremoneDist,t.userData.neighborPos.push(e.position),i=!0):t.seek(Mt.a.vec2(e.position.x,e.position.y)))}),i||(t.userData.pheremoneDist=0)):t.wander();t.update()},drawFn:function(e,t){e.strokeRect(t.position.x-2,t.position.y-2,4,4),t.userData.pheremoneDist>0&&(e.beginPath(),e.fillStyle="rgba(255,255,255, 0.05)",e.arc(t.position.x,t.position.y,.5*t.userData.pheremoneDist,0,2*Math.PI),e.fill())},clickFn:function(e,t,n,o){var i=new Mt.a;i.position.x=e.x,i.position.y=e.y,i.velocity.x=0,i.velocity.y=0,i.userData.pheremoneDist=45,i.userData.step=function(t){t.strokeStyle="yellow",t.lineWidth=.5,t.beginPath(),t.arc(e.x,e.y,4,0,2*Math.PI),t.stroke(),t.beginPath(),t.strokeStyle="white",t.arc(e.x,e.y,30,0,2*Math.PI),t.stroke()},n.length>=5&&n.shift();n.push(i)},otherBoidDrawFn:function(e,t){},edgeBehavior:"bounce"}}};function Qt(){return(Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var $t=i.a.createElement("polygon",{points:"414.5 209.5 414.5 0.5 0.5 0.5 0.5 209.5 64.03 297 74.35 283 151 399.5 263 399.5 297.34 339.5 307.67 353.5 414.5 209.5"}),Jt=function(e){return i.a.createElement("svg",Qt({className:"cave-top",viewBox:"0 0 415 400"},e),$t)};n.p;function Zt(){return(Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var Kt=i.a.createElement("polygon",{points:"0.5 189.5 0.5 398.5 414.5 398.5 414.5 189.5 414.27 189.5 326.75 66.5 316.42 80.5 263.5 0.5 151.77 0.5 86.5 104.5 69.5 95.5 1.27 189.5 0.5 189.5"}),en=function(e){return i.a.createElement("svg",Zt({className:"cave-bottom",viewBox:"0 0 415 400"},e),Kt)},tn=(n.p,n(20)),nn=n.n(tn),on=n(65),an=n.n(on),sn=function(e){function t(e){var n;return Object(xe.a)(this,t),(n=Object(Se.a)(this,Object(Ee.a)(t).call(this,e))).onMouseMove=function(e){n.canvasRect&&n.rafController&&n.rafController.ticker%4===0&&(n.mousePos.x=e.clientX-n.canvasRect.left,n.mousePos.y=e.clientY-n.canvasRect.top)},n.onMouseClick=function(e){n.canvasRect&&(n.mousePos.x=e.clientX-n.canvasRect.left,n.mousePos.y=e.clientY-n.canvasRect.top),n.simulationController&&n.simulationController.onClick(Object(l.a)({},n.mousePos))},n.handleCrowdClick=function(e){n.simulationController&&n.simulationController.handleCrowdClick(e)},n.handleWindowSizeChange=function(){var e=n.simulation.getBoundingClientRect();n.width=e.width,n.height=e.height;n.width,n.height;n.setState({width:n.width,height:n.height})},n.state={width:!1,height:!1},n.simulationRef=i.a.createRef(),n.cursorIconRef=i.a.createRef(),n.caveRef=i.a.createRef(),n.hoistCanvas=function(e,t){n.ctx=t,n.canvas=e,n.canvasRect=n.canvas.getBoundingClientRect()},n.throttleResize=Te()(n.handleWindowSizeChange,333),n.throttledCrowdClick=Te()(n.handleCrowdClick,1e3),n}return Object(Ce.a)(t,e),Object(ke.a)(t,[{key:"componentDidMount",value:function(){if(window.addEventListener("resize",this.throttleResize),this.caveRef&&(this.caveContainer=this.caveRef.current),this.simulationRef){this.simulation=this.simulationRef.current;var e=this.simulation.getBoundingClientRect();this.width=e.width,this.height=e.height,this.mousePos={x:0,y:-10},this.center={x:this.width/2,y:this.height/2},this.buildSimulation(),this.setState({width:this.width,height:this.height})}}},{key:"componentWillUnmount",value:function(){this.rafController.stopLoop(),window.removeEventListener("resize",this.throttleResize)}},{key:"buildSimulation",value:function(){var e=this;switch(this.props.curSystem.path){case"traffic":this.currentSettings=nn()(Rt,Vt);break;case"colony":this.currentSettings=nn()(Rt,Yt);break;case"school":this.currentSettings=nn()(Rt,zt);break;case"crowds":this.currentSettings=nn()(Rt,Ut);break;case"mold":this.currentSettings=nn()(Rt,Gt);break;default:console.error("Simulation type does not match setting.")}this.rafController&&this.rafController.stopLoop(),this.rafController=new Qe({fps:this.currentSettings.rafSettings.fps}),an()(this.currentSettings.simulationSettings.cursorBoidSettings,"mousePos")?this.mousePos=this.currentSettings.simulationSettings.cursorBoidSettings.mousePos(this.bounds):this.mousePos={x:0,y:-10},this.simulationController=new It(Object(l.a)({width:this.width,height:this.height,caveContainer:this.caveContainer},this.currentSettings.simulationSettings)),this.rafController.onStep=function(t){e.ctx&&e.simulationController.step(e.ctx,e.mousePos)}}},{key:"componentDidUpdate",value:function(e){e.curSystem.path!==this.props.curSystem.path&&this.buildSimulation()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:Ie()("simulation-canvas",this.props.path),ref:this.simulationRef,onMouseMove:this.onMouseMove,onClick:this.onMouseClick,style:this.styles},i.a.createElement(Ge,{hoistCanvas:this.hoistCanvas}),"colony"===this.props.curSystem.path&&i.a.createElement("div",{className:"cave-graphics",ref:this.caveRef},i.a.createElement(Jt,null),i.a.createElement(en,null)),"crowds"===this.props.curSystem.path&&i.a.createElement("div",{className:"crowds-buttons",ref:this.crowdsRef},[20,60,110].map(function(t,n){return i.a.createElement("button",{key:"crowd-button-".concat(n),className:"crowd-button unbuttoned",onClick:function(n){return e.throttledCrowdClick(t)},style:{width:"".concat(10*(n+2),"px"),height:"".concat(10*(n+2),"px")}})})))}}]),t}(o.Component),rn=function(e){function t(e){var n;return Object(xe.a)(this,t),(n=Object(Se.a)(this,Object(Ee.a)(t).call(this,e))).handleOverlayClick=function(){clearTimeout(n.overlayTimeout),n.setState({hideOverlay:!0})},n.handleQuestionClick=function(){clearTimeout(n.overlayTimeout),n.setState(function(e){return{hideOverlay:!e.hideOverlay}})},n.state={mounted:!1,hideOverlay:!1},n.fadeDuration=333,n.throttledNextClick=Te()(function(t){e.history.push("/simulation/".concat(e.nextSystem.path)),e.onNextClick()},999),n}return Object(Ce.a)(t,e),Object(ke.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({mounted:!0}),this.overlayTimeout=setTimeout(function(t){e.setState({hideOverlay:!0})},9e3)}},{key:"componentDidUpdate",value:function(e){var t=this;e.curSystem.path!==this.props.curSystem.path&&(clearTimeout(this.overlayTimeout),this.setState({hideOverlay:!1}),this.overlayTimeout=setTimeout(function(e){t.setState({hideOverlay:!0})},8e3))}},{key:"render",value:function(){var e=this,t=this.props,n=t.curSystem,o=void 0===n?{}:n,a=t.nextSystem,s=void 0===a?{}:a,r=(t.onNextClick,o.index,o.question),c=void 0===r?"question":r,l=o.path,h=void 0===l?"path":l,u=o.instructions,d=void 0===u?"Chase the fish to see how they follow their neighbors, and avoid predators.":u,p=o.instructionPng,m=o.coverImage,f=s.nextButtonTitle,v=void 0===f?"":f;return console.log(o.color),i.a.createElement("div",{className:Ie()("page-wrapper","simulation-page",h)},this.state.mounted&&i.a.createElement(He.TransitionGroup,{className:"page-inner"},i.a.createElement(He.CSSTransition,{classNames:"simulation-transition",key:o.path,timeout:3e3},i.a.createElement("span",null,i.a.createElement("span",{className:"content"},i.a.createElement("section",{className:"nav-placeholder"}),i.a.createElement("section",{className:"description-panel"},i.a.createElement(nt,{shouldUpdate:o.question,shouldRender:this.state.mounted,duration:this.fadeDuration},i.a.createElement("h2",{className:"question"},c),i.a.createElement(St,{className:"squiggle"})),i.a.createElement(nt,{shouldUpdate:o.interactions,shouldRender:this.state.mounted,duration:this.fadeDuration},i.a.createElement("h3",{className:"answer"},"Answer"),o.interactions.map(function(e,t){return i.a.createElement("h4",{key:"".concat(o.path,"-interaction-").concat(t)},e)}),i.a.createElement(vt.a,{to:"/selector"},i.a.createElement(lt,{style:{fill:"none",stroke:"black",strokeWidth:"2"}}),i.a.createElement(Bt,{className:"colored-pentagon",colors:ne.systems.map(function(e){return e.color})})))),i.a.createElement("section",{className:Ie()("simulation-panel",{"overlay-hidden":this.state.hideOverlay})},i.a.createElement(nt,{shouldUpdate:o.path,shouldRender:this.state.mounted,duration:this.fadeDuration},i.a.createElement(sn,{curSystem:o}),i.a.createElement("div",{className:"instructions-overlay",onClick:this.handleOverlayClick},i.a.createElement("div",{className:"overlay-inner"},i.a.createElement("span",{className:"content"},d,i.a.createElement("span",{className:"instruction-graphic"},i.a.createElement("img",{src:p,alt:"simulation_instruction_graphic"})),i.a.createElement("button",{className:"close-button"},i.a.createElement("span",null,"X"))))),i.a.createElement(Ot,{className:"show-instructions-button",onClick:this.handleQuestionClick},"?"),i.a.createElement(Ot,{className:"next-sim",onClick:function(t){e.props.history.push("/simulation/".concat(e.props.nextSystem.path)),e.props.onNextClick()}},i.a.createElement("h4",null,"next"),i.a.createElement("h3",null,v),i.a.createElement(Ct,{component:bt,color:"black",style:{transform:"rotate(180deg)"}}))))),i.a.createElement("span",{className:"simulation-backgrounds"},i.a.createElement("div",{className:"color-front",style:{background:o.color}}),i.a.createElement("div",{className:"texture"}),i.a.createElement("img",{className:"system-image",alt:m.alt||"TODO",src:m.src}),i.a.createElement("div",{className:"color-back",style:{background:o.color}}))))))}}]),t}(o.Component),cn=Object(Oe.a)(Object(c.b)(function(e){return{nextSystem:e.nextSystem,curSystem:e.curSystem,lastChange:e.lastChange}},function(e){return{onNextClick:function(t){e({type:"NEXT_SYSTEM"})},onPrevClick:function(t){e({type:"PREV_SYSTEM"})},onPath:function(t){e({type:"SYSTEM_FROM_PATH",path:t})}}})(rn)),ln=function(e){function t(){var e;return Object(xe.a)(this,t),(e=Object(Se.a)(this,Object(Ee.a)(t).call(this))).handleScroll=function(t){t.target.scrollTop<=1?e.props.setHasScrolled(!1):e.props.setHasScrolled(!0)},e.onSystemAboutClick=function(t,n,o){o?e.setState({openSystemId:!1}):e.setState({openSystemId:n})},e.state={openSystemId:!1},e.fadeDuration=333,e}return Object(Ce.a)(t,e),Object(ke.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"page-wrapper mobile-page",onScroll:this.handleScroll},i.a.createElement("section",{className:"content"},i.a.createElement("div",{className:"intro-block"},i.a.createElement("h2",{className:"project-title"},"Part To Whole"),i.a.createElement("p",{dangerouslySetInnerHTML:{__html:ne.description}})),i.a.createElement("div",{className:"systems-container"},ne.systems.map(function(t,n){var o=n===e.state.openSystemId;return i.a.createElement("div",{key:t.path,className:Ie()("system-block",{open:o})},i.a.createElement("h3",{className:"question"},t.question),i.a.createElement("div",{className:"preview-video-container",style:{background:t.color}},i.a.createElement("video",{className:"video",width:"680",height:"520",autoPlay:!0,loop:!0,muted:!0},i.a.createElement("source",{src:t.previewVideo.src,type:"video/mp4"}),"Your browser does not support the video tag.")),i.a.createElement(Ot,{className:"active-button",onClick:function(t){return e.onSystemAboutClick(t,n,o)}},i.a.createElement("div",{className:"slider"},i.a.createElement("div",null,"ABOUT"),i.a.createElement("div",null,"CLOSE"))),i.a.createElement("div",{className:"answer-block"},i.a.createElement("h3",{className:"answer"},"Answer"),t.interactions.map(function(e,n){return i.a.createElement("h4",{key:"".concat(t.path,"-interaction-").concat(n),style:{transitionDelay:o?"".concat(222*n+666,"ms"):"0ms"}},e)})))})),i.a.createElement("div",{className:"outro-block"},i.a.createElement(lt,null),i.a.createElement("h4",null,"To interact with each emergent system, visit the site on a desktop device."))))}}]),t}(o.Component),hn=Object(c.b)(function(e){return{nextSystem:e.nextSystem}},function(e,t){return{setHasScrolled:function(t){e({type:"SCROLL_CHANGE",pageHasScrolled:t})}}})(ln);var un=Object(c.b)(function(e){return{prevLocation:e.prevLocation}})(function(e){var t=e.prevLocation,n=e.location,o=[{path:"/",name:"Intro",Component:ut},{path:"/about",name:"About",Component:ft},{path:"/selector",name:"Home",Component:jt},{path:"/transition/:type",name:"Transition",Component:Dt},{path:"/simulation/:type",name:"Simulation",Component:cn},{path:"/mobile",name:"Mobile",Component:hn}],a=t.split("/")[1]!==n.pathname.split("/")[1]?t.split("/")[1]:"undef";return i.a.createElement(i.a.Fragment,null,i.a.createElement(_e,null),o.map(function(e){var t=e.path,n=e.Component;return i.a.createElement(Ve.a,{key:t,exact:!0,path:t},function(e){var t=e.match;return i.a.createElement(He.CSSTransition,{in:null!=t,timeout:{enter:2200,exit:2200},classNames:"".concat(a,"-prev page-transition"),unmountOnExit:!0},i.a.createElement(n,null))})}),i.a.createElement(Le.a,null,i.a.createElement(Ae.a,{exact:!0,from:"/transition/",to:"/selector"}),i.a.createElement(Ae.a,{exact:!0,from:"/simulation/",to:"/simulation/traffic"})))}),dn=function(e){function t(e){var n;return Object(xe.a)(this,t),(n=Object(Se.a)(this,Object(Ee.a)(t).call(this,e))).state={mounted:!1},n}return Object(Ce.a)(t,e),Object(ke.a)(t,[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.location,o=t.curSystem,a=void 0===o?{}:o;return i.a.createElement(He.TransitionGroup,{className:"background ".concat(n.pathname.split("/")[1])},i.a.createElement(He.CSSTransition,{key:a.coverImage.src,timeout:{enter:666,exit:333},classNames:"back"},i.a.createElement(Ve.a,{path:"/(selector|transition|simulation|mobile|about)",render:function(t){var n=a.coverImage,o=void 0===n?"":n,s=a.icon,r=a.color,c=s;return i.a.createElement("div",{className:"content"},i.a.createElement(nt,{shouldRender:e.state.mounted,duration:333},i.a.createElement("img",{className:"system-image",alt:o.alt||"TODO",src:o.src}),i.a.createElement(c,{className:"system-icon",style:{fill:r}})))}})),i.a.createElement("img",{className:"texture",alt:"background_texture",src:Ze.a}))}}]),t}(o.Component),pn=Object(c.b)(function(e){return{curSystem:e.curSystem}})(dn),mn=function(e){function t(e){var n;Object(xe.a)(this,t),n=Object(Se.a)(this,Object(Ee.a)(t).call(this,e));var o,i=e.location.pathname.match(/\/(simulation|transition)\/([A-Za-z]+)/);return i&&i.length>0&&"undefined"!=typeof i[2]&&(o=i[2],e.updateCurrentSystem(o)),e.history.push("/"),n}return Object(Ce.a)(t,e),Object(ke.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.location&&e&&e.location&&this.props.location!==e.location&&(this.props.updatePrevLocation(this.props.location.pathname),this.props.setHasScrolled(!1))}},{key:"render",value:function(){var e=this.props.location;return i.a.createElement("div",{className:"app"},i.a.createElement(We,{location:e}),i.a.createElement(un,{location:e}),i.a.createElement(pn,{location:e}))}}]),t}(o.Component),fn=Object(Oe.a)(Object(c.b)(function(e){return{prevLocation:e.prevLocation}},function(e,t){return{updateCurrentSystem:function(t){e({type:"SYSTEM_FROM_PATH",path:t})},updatePrevLocation:function(t){e({type:"SET_PREV_LOCATION",prevLocation:t})},setHasScrolled:function(t){e({type:"SCROLL_CHANGE",pageHasScrolled:t})}}})(mn));n(133);var vn=function(){return i.a.createElement(r.a,null,i.a.createElement(c.a,{store:we},i.a.createElement(fn,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(vn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},19:function(e,t,n){e.exports=n.p+"static/media/background-texture-white.9d490c1f.jpg"},49:function(e,t,n){e.exports=n.p+"static/media/car-cover.4244e9e3.png"},50:function(e,t,n){e.exports=n.p+"static/media/bat-cover.38790e18.png"},51:function(e,t,n){e.exports=n.p+"static/media/fish-cover.c3aff7ed.png"},52:function(e,t,n){e.exports=n.p+"static/media/crowds-cover.ea99ec22.png"},53:function(e,t,n){e.exports=n.p+"static/media/mold-cover.cf41b38c.png"},54:function(e,t,n){e.exports=n.p+"static/media/car-instructions.b8a5fe30.png"},55:function(e,t,n){e.exports=n.p+"static/media/bat-instructions.6cf6f199.png"},56:function(e,t,n){e.exports=n.p+"static/media/fish-instructions.1c869886.png"},57:function(e,t,n){e.exports=n.p+"static/media/crowds-instructions.7a9b88e2.png"},58:function(e,t,n){e.exports=n.p+"static/media/mold-instructions.d5e09830.png"},59:function(e,t,n){e.exports=n.p+"static/media/car-video.604b369b.mp4"},60:function(e,t,n){e.exports=n.p+"static/media/bat-video.50b37050.mp4"},61:function(e,t,n){e.exports=n.p+"static/media/fish-video.742bd61a.mp4"},62:function(e,t,n){e.exports=n.p+"static/media/crowds-video.a6d15e39.mp4"},63:function(e,t,n){e.exports=n.p+"static/media/mold-video.32a60998.mp4"},66:function(e,t,n){e.exports=n(135)}},[[66,2,1]]]);
//# sourceMappingURL=main.e6d21227.chunk.js.map